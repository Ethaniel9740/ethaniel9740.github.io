<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>hexo Butterfly主题vercel页面404:NOT_FOUND</title>
      <link href="/2025/12/17/hexo%20vercel/"/>
      <url>/2025/12/17/hexo%20vercel/</url>
      
        <content type="html"><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>在使用 Hexo 搭建博客时，在博客中打开文章显示如下图示：</p><p><img src="/img%5Chexo_2025_12_17_01.png"></p><p>原因：因文件名称中带有 + 符号vercel部署无法定位到文件的位置，导致URL定位出现问题。</p><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>一个篇文章上传分为：<br>（1）文件名称，即如下：</p><p><img src="/img%5Chexo_2025_12_17_02.png"></p><p>（2）文章名称：</p><p><img src="/img%5Chexo_2025_12_17_03.png"></p><p>即修改文件名称，把<code>c++基础</code>修改为其他名称，再进行上传部署即可完成。</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo Butterfly主题busuanzi无法统计访客量</title>
      <link href="/2025/12/05/hexo%20busanzi/"/>
      <url>/2025/12/05/hexo%20busanzi/</url>
      
        <content type="html"><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><p>在使用 Hexo 搭建博客时，在博客中集成了站点访问数据量统计插件 <a href="http://busuanzi.ibruce.info/">busuanzi</a>。在本地启动服务后，统计数据无法加载。</p><p><img src="/img%5Chexo2_1.png" alt="hexo2_1"></p><p>问题分析<br>静态网站是无后台服务支撑的，大多数情况下都需要借助第三方的插件实现相关功能。</p><p>具体的原因博主也没有弄清楚。猜测是在本地部署时，未检测到busuanzi插件，或是博客主题（butterfly）中安装新的插件导致无法检测busuanzi插件</p><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>修改主体下的D:\blog\butt\node_modules\hexo-theme-butterfly\ _config.yml（我的目录：D:\blog\butt\ _config.butterfly.yml，可以将主题下的配置文件复制粘贴到根目录下改名为 _config.butterfly.yml），搜索inject，新增如下参数：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p><img src="/img%5Chexo2_2.png" alt="hexo2_2"></p><h3 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h3><p>开启本地server</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo</span> c &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>访问：<a href="http://localhost:4000/">http://localhost:4000/</a> ，即可看到想要的统计功能了</p><p><img src="/img%5Chexo2_3.png" alt="hexo2_3"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>hexo Butterfly主题本地搜索功能</title>
      <link href="/2025/12/05/hexo%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2/"/>
      <url>/2025/12/05/hexo%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><p>前往博客根目录，打开cmd命令窗口执行</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><h3 id="注入配置"><a href="#注入配置" class="headerlink" title="注入配置"></a>注入配置</h3><p> 修改站点配置文件<code>_config.yml</code>，添加代码如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><p><img src="/img%5Chexo1_1.png"></p><h3 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h3><p>修改主体下的D:\blog\butt\node_modules\hexo-theme-butterfly\ _config.yml（我的目录：D:\blog\butt\ _config.butterfly.yml，可以将主题下的配置文件复制粘贴到根目录下改名为 _config.butterfly.yml），搜索search，修改为如下参数</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="comment"># 选择：algolia_search / local_search / docsearch</span></span><br><span class="line">  <span class="comment"># 如果不需要搜索功能，保持为空</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">local_search</span></span><br><span class="line">  <span class="attr">placeholder:</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># Algolia 搜索</span></span><br><span class="line">  <span class="attr">algolia_search:</span></span><br><span class="line">    <span class="comment"># 每页搜索结果数量</span></span><br><span class="line">    <span class="attr">hitsPerPage:</span> <span class="number">6</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 本地搜索</span></span><br><span class="line">  <span class="attr">local_search:</span></span><br><span class="line">    <span class="comment"># 页面加载时预加载搜索数据</span></span><br><span class="line">    <span class="attr">preload:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># 每篇文章显示的顶部 n 个搜索结果，设置为-1 显示所有结果</span></span><br><span class="line">    <span class="attr">top_n_per_article:</span> <span class="number">-1</span></span><br><span class="line">    <span class="comment"># 将 HTML 字符串反转义为可读内容</span></span><br><span class="line">    <span class="attr">unescape:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># 启用搜索结果分页</span></span><br><span class="line">    <span class="attr">pagination:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">      <span class="comment"># 每页搜索结果数</span></span><br><span class="line">      <span class="attr">hitsPerPage:</span> <span class="number">8</span></span><br><span class="line">    <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure><h3 id="预览效果"><a href="#预览效果" class="headerlink" title="预览效果"></a>预览效果</h3><p>开启本地server</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo</span> c &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>访问：<a href="http://localhost:4000/">http://localhost:4000/</a> ，即可看到想要的搜索功能了</p><p><img src="/img%5Chexo1_2.png"></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>c++中关于void函数是否要使用return</title>
      <link href="/2023/04/06/Cplusplus%E4%B8%AD%E5%85%B3%E4%BA%8Evoid%E5%87%BD%E6%95%B0%E6%98%AF%E5%90%A6%E8%A6%81%E4%BD%BF%E7%94%A8return/"/>
      <url>/2023/04/06/Cplusplus%E4%B8%AD%E5%85%B3%E4%BA%8Evoid%E5%87%BD%E6%95%B0%E6%98%AF%E5%90%A6%E8%A6%81%E4%BD%BF%E7%94%A8return/</url>
      
        <content type="html"><![CDATA[<p>在学习c中我是习惯于在void函数里增加return，在学习c++时，看到很多老师在定义类的时，类中的void函数不进行添加return，故而引发思考，是否增加return和不增加return有什么区别？</p><h2 id="函数末尾的return"><a href="#函数末尾的return" class="headerlink" title="函数末尾的return;"></a>函数末尾的return;</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ethan1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 一些代码</span></span><br><span class="line">    <span class="keyword">return</span>;  <span class="comment">// 显式返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ethan2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 一些代码</span></span><br><span class="line">    <span class="comment">// 隐式返回（没有return语句）</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>在函数末尾时，两者完全等价</strong>。编译器会在 <code>void</code> 函数的末尾自动插入一个隐式的 <code>return;</code></p><h2 id="提前返回的情况"><a href="#提前返回的情况" class="headerlink" title="提前返回的情况"></a>提前返回的情况</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ethan1</span><span class="params">(<span class="type">int</span> value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(value &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;<span class="comment">//必须写,用于提前退出</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//正常处理代码</span></span><br><span class="line">    <span class="comment">//函数末尾可以省略return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当需要提前退出函数时，必须使用 <code>return;</code></p><p>总结：根据以上两个案例，在函数的尾部有没有<code>return;</code>都是一样，在提前退出函数中<code>return;</code>是必须使用的。可根据个人习惯以及团队的编码规范进行是否写入<code>return;</code></p><p>写入的优点：</p><ul><li>明确表示函数结束，提高代码清晰度</li><li>与其他返回类型的函数保持一致</li><li>方便后续添加提前返回的逻辑</li></ul><p>写入的缺点：</p><ul><li>增加冗余代码</li><li><code>void</code> 函数没有返回值是显而易见的</li><li>不简洁明了</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面相对象-封装</title>
      <link href="/2023/04/06/%E9%9D%A2%E7%9B%B8%E5%AF%B9%E8%B1%A1-%E5%B0%81%E8%A3%85/"/>
      <url>/2023/04/06/%E9%9D%A2%E7%9B%B8%E5%AF%B9%E8%B1%A1-%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h2 id="类和对象的关系"><a href="#类和对象的关系" class="headerlink" title="类和对象的关系"></a>类和对象的关系</h2><h3 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h3><p>类（设计图）：是对象共同特征的描述；<br>对象（实例）：是真实客观存在的东西。<br>在C++中，必须先设计类，才能获得对象。</p><h3 id="如何设计类"><a href="#如何设计类" class="headerlink" title="如何设计类"></a>如何设计类</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//1、成员变量（代表属性，一般是名词）</span></span><br><span class="line">  <span class="comment">//2、成员函数（代表行为，一般是动词）</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>(1)如何设计手机<br>属性：品牌，价格；<br>功能：打电话，收短信；</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Phone</span><span class="comment">//结构体默认的成员变量和成员函数是公开的</span></span><br><span class="line">&#123;</span><br><span class="line">    string brand;</span><br><span class="line">    <span class="type">double</span> price;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">call</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">sendMessage</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span><span class="comment">//类的默认的成员变量和成员函数是私有的</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    string brand;</span><br><span class="line">    <span class="type">double</span> price;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">call</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">sendMessage</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="创建并使用对象"><a href="#创建并使用对象" class="headerlink" title="创建并使用对象"></a>创建并使用对象</h3><p>类名首字母建议大写、英文、有意义，满足驼峰模式，不能用关键字，满足标识符规定；</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//创建</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Phone</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//属性（成员变量）</span></span><br><span class="line">    string brand;</span><br><span class="line">    <span class="type">double</span> price;</span><br><span class="line">    <span class="comment">//行为（成员函数）</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">call</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; brand &lt;&lt; <span class="string">&quot;打电话&quot;</span> &lt;&lt; endl;<span class="comment">//成员函数能直接访问成员变量</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">sendMessage</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">            cout &lt;&lt; brand &lt;&lt; <span class="string">&quot;发消息&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//创建</span></span><br><span class="line">    Phone phone;</span><br><span class="line">    <span class="comment">//赋值</span></span><br><span class="line">    phone.brand = <span class="string">&quot;傻妞&quot;</span>;</span><br><span class="line">    phone.price = <span class="number">8848.0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//访问函数</span></span><br><span class="line">    phone.<span class="built_in">class</span>();</span><br><span class="line">    phone.<span class="built_in">sendMessage</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><h3 id="什么是封装"><a href="#什么是封装" class="headerlink" title="什么是封装"></a>什么是封装</h3><p>如何正确设计对象的属性和行为</p><p>判断依据：对象代表什么，就得封装对应的数据，并提供数据对应的行为</p><p>需求：人画圆</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        string name;</span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="type">double</span> radius;<span class="comment">//半径</span></span><br><span class="line">        Point center;<span class="comment">//圆心</span></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;以圆心，根据半径&quot;</span>&lt;&lt; radius &lt;&lt;<span class="string">&quot;画圆&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="private关键字"><a href="#private关键字" class="headerlink" title="private关键字"></a>private关键字</h3><ul><li>是一个权限修饰符；可以修饰成员（成员变量和成员函数）；</li><li>被private修饰的，表示私有，只能在本类中才能使用，不能被类外代码访问；</li><li>被public修饰的，表示公共的，在所有的地方都能使用；</li><li>被protected修饰的，表示受保护，在本类及其派生类中访问，不能被其它类外代码直接访问。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="comment">//创建</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">        string name;</span><br><span class="line">    <span class="comment">//set（赋值）</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setAge</span><span class="params">(<span class="type">int</span> a)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(a &gt;= <span class="number">0</span> &amp;&amp; a&lt;= <span class="number">200</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                age = a;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;年龄设置不合理&quot;</span> &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//get（获取）</span></span><br><span class="line">    <span class="function"><span class="type">int</span> getAge <span class="title">const</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p1;</span><br><span class="line">    p<span class="number">1.</span>name = ethaniel;</span><br><span class="line">    p<span class="number">1.</span><span class="built_in">setAge</span>(<span class="number">100</span>);</span><br><span class="line">    cout &lt;&lt; p<span class="number">1.</span>setAge &lt;&lt; ednl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="this关键字"><a href="#this关键字" class="headerlink" title="this关键字"></a>this关键字</h3><p>就近原则：谁离我近（作用域），我就用谁</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> age = <span class="number">20</span>;<span class="comment">//成员变量</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">method</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="type">int</span> age = <span class="number">10</span>;<span class="comment">//局部变量</span></span><br><span class="line">            cout &lt;&lt; age &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p;</span><br><span class="line">    p.<span class="built_in">method</span>();<span class="comment">//10;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>this的作用：区别成员变量和局部变量</p><p>指向当前对象在成员函数内，存在指向当前对象的指针this</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="type">int</span> age = <span class="number">20</span>;<span class="comment">//成员变量</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">method</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="type">int</span> age = <span class="number">10</span>;<span class="comment">//局部变量</span></span><br><span class="line">            cout &lt;&lt; <span class="keyword">this</span>-&gt;age &lt;&lt; endl;<span class="comment">//(*this)-&gt;age</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Person p;</span><br><span class="line">    p.<span class="built_in">method</span>();<span class="comment">//20;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><p>构造函数也叫作构造器、构造方法。<br>作用：在创建对象的时候初始化对象（对成员变量进行初始化）</p><p>构造函数格式</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    类名()&#123;&#125;;<span class="comment">//默认构造函数</span></span><br><span class="line">    类名(参数列表)&#123;&#125;;<span class="comment">//带参数的构造函数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>特点：<br>（1）函数名与类名相同，大小写也要一致<br>（2）没有返回值类型<br>（3）没有具体的返回值（不能由return返回结果数据）<br>（4）如果没有写构造函数，系统会提供默认构造函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        string name;</span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="comment">/*Student()&#123;&#125;;*/</span></span><br><span class="line">        <span class="built_in">Student</span>():name&#123;&#125;,age&#123;&#125;&#123;&#125;</span><br><span class="line">        <span class="comment">/*Student(string name,int age)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            this-&gt;name = name;</span></span><br><span class="line"><span class="comment">            this-&gt;age = age;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">        <span class="built_in">Student</span>(string name,<span class="type">int</span> age):name&#123;name&#125;,age&#123;age&#125;&#123;&#125; <span class="comment">//初始化列表</span></span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">setName</span><span class="params">(string name)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">string <span class="title">getName</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">setAge</span><span class="params">(<span class="type">int</span> age)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">getAge</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   Student s1;<span class="comment">//调用无参构造函数，初始化对象</span></span><br><span class="line">    Student s2&#123;<span class="string">&quot;ethaniel&quot;</span>,<span class="number">25</span>&#125;;<span class="comment">//调用有参构造函数，初始化对象</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;s2的姓名：&quot;</span> &lt;&lt; s<span class="number">2.</span><span class="built_in">getName</span>() &lt;&lt; <span class="string">&quot; s2的年龄：&quot;</span> &lt;&lt; s<span class="number">2.</span><span class="built_in">getAge</span>() &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：<br>（1）构造函数的定义<br>1）如果没有定义构造函数，系统将给出一个默认的无参数构造函数<br>2）如果定义了构造函数，系统将不再提供默认的构造函数<br>（2）构造函数的重载<br>1）带参构造函数，和无参数构造函数，两者函数名相同，但是参数不同，这叫做构造函数的重载<br>（3）推荐的使用方式<br>1）无论是否使用，都手动书写无参数构造函数，和带全部参数的构造函数</p><h3 id="析构函数"><a href="#析构函数" class="headerlink" title="析构函数"></a>析构函数</h3><p>作用：用于在对象被销毁时进行清理操作;<br>格式：与类名相同，前面加上波浪号（~），没有返回类型，并且不带参数。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> 类名</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    ~类名()</span><br><span class="line">    &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;系统函数,删除对象&quot;</span> &lt;&lt;endl;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>对象在离开作用域时，会被销毁，从而系统自动调用合适的析构函数</p><p>例题：<br>定义一个汽车类Car，包含一个引擎对象Engine，以及速度状态值汽车对象具有启动、加速、减速和停止等操作，均委托给引擎对象来完成</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Engine</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">start</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;引擎启动&quot;</span> &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;引擎熄火&quot;</span> &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">speedUp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;引擎提速&quot;</span> &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">speedDone</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;引擎减速&quot;</span> &lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        Engine engine;</span><br><span class="line">        <span class="type">int</span> speed;   </span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">Car</span>():engine&#123;&#125;,speed&#123;&#125;&#123;&#125;</span><br><span class="line">        <span class="built_in">Car</span>(Engine engine,<span class="type">int</span> speed):engine&#123;engine&#125;,speed&#123;speed&#125;&#123;&#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">setEngine</span><span class="params">(Engine engine)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;engine = engine;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function">Engine <span class="title">getEngine</span><span class="params">()</span><span class="type">const</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> engine;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">setSpeed</span><span class="params">(<span class="type">int</span> speed)</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>-&gt;speed = speed;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">getSpeed</span><span class="params">()</span><span class="type">const</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> speed;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">start</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            engine.<span class="built_in">start</span>();</span><br><span class="line">            speed += <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            engine.<span class="built_in">stop</span>();</span><br><span class="line">            speed = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">speedUp</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            engine.<span class="built_in">speedUp</span>();</span><br><span class="line">            speed += <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(speed &gt; <span class="number">100</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                speed = <span class="number">100</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">speedDone</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            engine.<span class="built_in">speedDone</span>();</span><br><span class="line">            speed -= <span class="number">10</span>;</span><br><span class="line">            <span class="keyword">if</span>(speed &lt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                speed = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">showCarStatus</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;汽车当前速度是：&quot;</span> &lt;&lt; speed &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">if</span> (speed &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;汽车在行驶中&quot;</span> &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;汽车停止状态&quot;</span> &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Engine eng;</span><br><span class="line">    Car car&#123;eng,<span class="number">0</span>&#125;;</span><br><span class="line">    car.<span class="built_in">start</span>();</span><br><span class="line">    car.<span class="built_in">showCarStatus</span>();</span><br><span class="line">    car.<span class="built_in">speedUp</span>();</span><br><span class="line">    car.<span class="built_in">speedUp</span>();</span><br><span class="line">    car.<span class="built_in">showCarStatus</span>();</span><br><span class="line">    car.<span class="built_in">speedDone</span>();</span><br><span class="line">    car.<span class="built_in">showCarStatus</span>();</span><br><span class="line">    car.<span class="built_in">stop</span>();</span><br><span class="line">    car.<span class="built_in">showCarStatus</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C++基础</title>
      <link href="/2023/04/01/Cplusplus%E5%9F%BA%E7%A1%80/"/>
      <url>/2023/04/01/Cplusplus%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<h2 id="C与C-区别"><a href="#C与C-区别" class="headerlink" title="C与C++区别"></a>C与C++区别</h2><table><thead><tr><th></th><th>C</th><th align="left">C++</th></tr></thead><tbody><tr><td>语法</td><td>过程化的编程语言</td><td align="left">具有面向对象范式的编程语言</td></tr><tr><td>编程风格</td><td>注重过程化的编程风格，主要关注算法和函数的设计</td><td align="left">支持面向对象的编程风格，可以使用类、对象和封装等概念进行程序设计</td></tr><tr><td>标准库</td><td>C标准库相对简单，提供了基本的输入输出、字符串处理等功能</td><td align="left">C++标准库比C标准库更加丰富和功能强大，包含了大量的容器、算法和其他常用的功能模块</td></tr><tr><td>异常处理</td><td>没有内置的异常处理机制，通常使用返回错误码的方式来处理错误</td><td align="left">C++支持异常处理机制，可以捕获和处理程序中的异常情况</td></tr><tr><td>兼容性</td><td>C++是C的超集，也就是说，任何一个符合C语法规则的程序也是一个合法的C++程序。C++可以调用C语言编写的函数，并且可以与C语言的代码共享。</td><td align="left"></td></tr><tr><td>选择</td><td>C++相对于C来说更加强大和灵活，适用于更复杂的应用场景。但对于一些简单的、性能要求较高的程序，C语言可能更加适合。选择使用哪种语言，取决于具体的需求和编程的目标。</td><td align="left"></td></tr></tbody></table><h2 id="“helloworld”的编写"><a href="#“helloworld”的编写" class="headerlink" title="“helloworld”的编写"></a>“helloworld”的编写</h2><p>步骤：</p><p><img src="D:\blog\butt\source_posts\img\C++2023_4_1_01.png"></p><p>.vscode文件夹</p><p>launch.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"> </span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++ Runner: Debug Session&quot;</span><span class="punctuation">,</span>        </span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span>                              </span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span>                           </span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>                                   </span><br><span class="line">      <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>                          </span><br><span class="line">      <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>                      </span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span>    </span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><span class="punctuation">,</span>   </span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">      <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;miDebuggerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/mingw64/bin/gdb.exe&quot;</span><span class="punctuation">,</span>  <span class="comment">//# 改成你自己的调试器gdb全路径</span></span><br><span class="line">      <span class="attr">&quot;setupCommands&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Enable pretty-printing for gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-enable-pretty-printing&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>settings.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;files.associations&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;iostream&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;ostream&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;array&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;atomic&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;*.tcc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;deque&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;string&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;vector&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;algorithm&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;memory_resource&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;string_view&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;memory&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;random&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;fstream&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;initializer_list&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;sstream&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;stdexcept&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;tuple&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;type_traits&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;utility&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cstdlib&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;exception&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cmath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;functional&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;istream&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;new&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;typeinfo&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;list&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;unordered_map&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;numeric&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;streambuf&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;system_error&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iosfwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cctype&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;clocale&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cstdarg&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cstddef&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cstdint&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cstdio&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cstring&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;ctime&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cwchar&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;cwctype&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iterator&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;map&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;optional&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;set&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;iomanip&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;limits&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cpp&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;C_Cpp.errorSquiggles&quot;</span><span class="punctuation">:</span> <span class="string">&quot;disabled&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>tasks.json</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="string">&quot;version&quot;</span>: <span class="string">&quot;2.0.0&quot;</span>,</span><br><span class="line">    <span class="string">&quot;tasks&quot;</span>: </span><br><span class="line">    [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="string">&quot;label&quot;</span>: <span class="string">&quot;C/C++: g++.exe build active file&quot;</span>,</span><br><span class="line">            <span class="string">&quot;type&quot;</span>: <span class="string">&quot;process&quot;</span>,</span><br><span class="line">            <span class="string">&quot;command&quot;</span>: <span class="string">&quot;D:/mingw64/bin/g++.exe&quot;</span>,  <span class="comment">//# 改成你自己的路径</span></span><br><span class="line">            <span class="string">&quot;args&quot;</span>:</span><br><span class="line">            [</span><br><span class="line">                <span class="string">&quot;-fdiagnostics-color=always&quot;</span>,</span><br><span class="line">                <span class="string">&quot;-g&quot;</span>, </span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span>,</span><br><span class="line">                <span class="string">&quot;-o&quot;</span>,</span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;options&quot;</span>: </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="string">&quot;cwd&quot;</span>: <span class="string">&quot;D:/mingw64/bin/&quot;</span>  <span class="comment">//# 改成你自己的路径</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;group&quot;</span>: <span class="string">&quot;build&quot;</span>,</span><br><span class="line">            <span class="string">&quot;detail&quot;</span>: <span class="string">&quot;compiler: D:/mingw64/bin/g++.exe&quot;</span>,  <span class="comment">//# 改成你自己的路径 </span></span><br><span class="line">            <span class="string">&quot;problemMatcher&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;owner&quot;</span>: <span class="string">&quot;cpp&quot;</span>,</span><br><span class="line">                <span class="string">&quot;pattern&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;regexp&quot;</span>: <span class="string">&quot;^(.*):(\\d+):(\\d+):\\s+(warning|error):\\s+(.*)$&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;file&quot;</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="string">&quot;line&quot;</span>: <span class="number">2</span>,</span><br><span class="line">                    <span class="string">&quot;column&quot;</span>: <span class="number">3</span>,</span><br><span class="line">                    <span class="string">&quot;severity&quot;</span>: <span class="number">4</span>,</span><br><span class="line">                    <span class="string">&quot;message&quot;</span>: <span class="number">5</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//using namespace std; //标准命名空间</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;hello world!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ hello.cpp -o hello</span><br></pre></td></tr></table></figure><h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h2><p>C++中的命名空间是用来避免命名冲突的一种机制。当在一个程序中使用了不同的库或者代码模块，可能会存在相同的函数、类、变量等命名，这时候可以使用命名空间来区分它们。</p><p>在C++中，使用关键字namespace来定义命名空间</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">// 定义一个命名空间</span></span><br><span class="line"><span class="keyword">namespace</span> A</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;This is function A&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 定义另一个命名空间</span></span><br><span class="line"><span class="keyword">namespace</span> B</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;This is function B&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 调用A命名空间中的函数</span></span><br><span class="line">    A::<span class="built_in">func</span>();</span><br><span class="line">    <span class="comment">// 调用B命名空间中的函数</span></span><br><span class="line">    B::<span class="built_in">func</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过使用命名空间，我们可以将具有相同名称的函数或者其他实体进行区分，避免了命名冲突的问题。</p><p>在C++中，std 是C++标准库（Standard Library）中的命名空间（Namespace）。</p><p>C++标准库中的函数、类、变量等被放在了 std 命名空间中，通过 std:: 前缀来访问这些内容。</p><h2 id="语法符号"><a href="#语法符号" class="headerlink" title="语法符号"></a>语法符号</h2><h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>与C一样</p><h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><table><thead><tr><th align="center">auto</th><th align="center">false</th><th align="center">static</th><th align="center">using</th><th>if</th><th align="center">goto</th><th align="center">static_cast</th></tr></thead><tbody><tr><td align="center"><strong>bool</strong></td><td align="center"><strong>true</strong></td><td align="center"><strong>public</strong></td><td align="center"><strong>namespace</strong></td><td><strong>else</strong></td><td align="center"><strong>and</strong></td><td align="center"><strong>const_cast</strong></td></tr><tr><td align="center"><strong>char</strong></td><td align="center"><strong>enum</strong></td><td align="center"><strong>protected</strong></td><td align="center"><strong>inline</strong></td><td><strong>for</strong></td><td align="center"><strong>not</strong></td><td align="center"><strong>dynamic_cast</strong></td></tr><tr><td align="center"><strong>int</strong></td><td align="center"><strong>union</strong></td><td align="center"><strong>private</strong></td><td align="center"><strong>new</strong></td><td><strong>while</strong></td><td align="center"><strong>or</strong></td><td align="center"><strong>reinterpret_cast</strong></td></tr><tr><td align="center"><strong>short</strong></td><td align="center"><strong>struct</strong></td><td align="center"><strong>virtual</strong></td><td align="center"><strong>delete</strong></td><td><strong>do</strong></td><td align="center"><strong>xor</strong></td><td align="center"><strong>static_assert</strong></td></tr><tr><td align="center"><strong>long</strong></td><td align="center"><strong>class</strong></td><td align="center"><strong>override</strong></td><td align="center"><strong>this</strong></td><td><strong>switch</strong></td><td align="center"><strong>return</strong></td><td align="center"><strong>register</strong></td></tr><tr><td align="center"><strong>float</strong></td><td align="center"><strong>wchar_t</strong></td><td align="center"><strong>final</strong></td><td align="center"><strong>nullptr</strong></td><td><strong>case</strong></td><td align="center"><strong>try</strong></td><td align="center"><strong>explicit</strong></td></tr><tr><td align="center"><strong>double</strong></td><td align="center"><strong>sizeof</strong></td><td align="center"><strong>operator</strong></td><td align="center"><strong>void</strong></td><td><strong>default</strong></td><td align="center"><strong>catch</strong></td><td align="center"><strong>extern</strong></td></tr><tr><td align="center"><strong>signed</strong></td><td align="center"><strong>typeid</strong></td><td align="center"><strong>const</strong></td><td align="center"><strong>friend</strong></td><td><strong>break</strong></td><td align="center"><strong>throw</strong></td><td align="center"></td></tr><tr><td align="center"><strong>unsigned</strong></td><td align="center"><strong>typedef</strong></td><td align="center"><strong>constexpr</strong></td><td align="center"><strong>template</strong></td><td><strong>continue</strong></td><td align="center"><strong>noexcept</strong></td><td align="center"></td></tr></tbody></table><h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>与C一样</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> myVar;<span class="comment">//变量名</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">myFun</span><span class="params">()</span></span>;<span class="comment">//函数名</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>&#123;&#125;;<span class="comment">//类名</span></span><br><span class="line">MyClass myObject;<span class="comment">//对象名</span></span><br></pre></td></tr></table></figure><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>与C基本一致</p><p>布尔类型<br>作用：布尔数据类型代表真或假的值 </p><p>bool类型只有两个值:<br>true  — 真（本质是1）<br>false — 假（本质是0）<br>bool类型占&#x3D;&#x3D;1个字节&#x3D;&#x3D;大小</p><p>复合数据类型：<br>引用：为对象或变量起一个别名<br>类：用于封装数据和方法的用户自定义数据类型</p><h3 id="常量与变量"><a href="#常量与变量" class="headerlink" title="常量与变量"></a>常量与变量</h3><p>与C一样</p><h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><p>与C基本一致</p><h3 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h3><table><thead><tr><th>C</th><th>C++</th></tr></thead><tbody><tr><td>scanf和printf函数进行输入输出</td><td>使用cin和cout对象进行输入输出</td></tr><tr><td>使用%d、%f等格式化字符来表示不同类型的数据</td><td>使用&gt;&gt;和&lt;&lt;运算符来输入输出不同类型的数据</td></tr><tr><td>布尔运算符的真值为0以外的所有值，结果为1（真）或0（假）</td><td>布尔运算符的真值只能是true或false，结果为1或0</td></tr></tbody></table><h2 id="流程控制语句"><a href="#流程控制语句" class="headerlink" title="流程控制语句"></a>流程控制语句</h2><p>与C一样</p><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>与C基本一致</p><h3 id="函数的重载"><a href="#函数的重载" class="headerlink" title="函数的重载"></a>函数的重载</h3><p>函数重载(overload)是指在同一个作用域中可以定义多个函数，这些函数的名称相同但是参数列表不同。通过参数列表的不同，编译器可以区分出调用哪个函数。</p><p>在C语言中，是通过函数名字区分函数的<br>在C++中，是通过函数签名（函数名，形参列表）</p><p>函数重载的规则如下：<br>1、函数名称必须相同；<br>2、参数列表不同（参数个数、顺序、类型）；<br>3、与返回值无关。</p><h3 id="内联函数"><a href="#内联函数" class="headerlink" title="内联函数"></a>内联函数</h3><p>内联函数是指在函数声明前加上关键字”inline”的函数</p><p>作用：告诉编译器将该函数的定义插入到调用它的地方，而不是通过函数调用的方式执行</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> result = <span class="built_in">add</span>(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>优点：可以减少函数调用的开销。<br>适用场景：函数体较短、频繁调用的情况</p><h2 id="结构体、指针、数组"><a href="#结构体、指针、数组" class="headerlink" title="结构体、指针、数组"></a>结构体、指针、数组</h2><h3 id="C-中的结构体"><a href="#C-中的结构体" class="headerlink" title="C++中的结构体"></a>C++中的结构体</h3><p>与C语言中的结构体类似，但是可以写函数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义结构体</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span>&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">double</span> score;</span><br><span class="line"><span class="comment">//C++中可以在结构体中直接编写函数</span></span><br><span class="line">  <span class="type">void</span> <span class="title function_">study</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; name &lt;&lt; <span class="string">&quot; is studying.&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="C-中的指针"><a href="#C-中的指针" class="headerlink" title="C++中的指针"></a>C++中的指针</h3><p>与C一样</p><h3 id="C-中的数组"><a href="#C-中的数组" class="headerlink" title="C++中的数组"></a>C++中的数组</h3><p>与C一样</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    string name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">double</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">study</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout &lt;&lt; name &lt;&lt; <span class="string">&quot;在学习&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inputStudent</span><span class="params">(Student *stu,<span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入第&quot;</span> &lt;&lt; i<span class="number">+1</span> &lt;&lt;<span class="string">&quot;个学生姓名&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; (stu+i)-&gt;name;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入第&quot;</span> &lt;&lt; i<span class="number">+1</span> &lt;&lt;<span class="string">&quot;个学生年龄&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; (stu+i)-&gt;age;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入第&quot;</span> &lt;&lt; i<span class="number">+1</span> &lt;&lt;<span class="string">&quot;个学生成绩&quot;</span> &lt;&lt; endl;</span><br><span class="line">        cin &gt;&gt; (stu+i)-&gt;score;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//排序算法:冒泡、比较、插入、快排、归并</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sortByScore</span><span class="params">(Student* stu,<span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Student temp&#123;&#125;;<span class="comment">//c++的写法，c语言的写法struct Student temp = &#123;&#125;;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; size - i <span class="number">-1</span>; k++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (stu[k].score &gt; stu[k<span class="number">+1</span>].score)</span><br><span class="line">            &#123;</span><br><span class="line">                temp = stu[k];</span><br><span class="line">                stu[k] = stu[k<span class="number">+1</span>];</span><br><span class="line">                stu[k<span class="number">+1</span>] = temp;</span><br><span class="line">            &#125;        </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//打印</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printfStudentAll</span><span class="params">(Student* stu,<span class="type">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;请输入第&quot;</span> &lt;&lt; i<span class="number">+1</span> &lt;&lt; <span class="string">&quot;个学生姓名&quot;</span> &lt;&lt; (stu+i)-&gt;name &lt;&lt; <span class="string">&quot;学生年龄&quot;</span> &lt;&lt; (stu+i)-&gt;age &lt;&lt; <span class="string">&quot;学生成绩&quot;</span> &lt;&lt; (stu+i)-&gt;score &lt;&lt; endl;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;   </span><br><span class="line">    Student std[<span class="number">3</span>];<span class="comment">//c语言的写法:struct Student std[3];</span></span><br><span class="line">    <span class="type">int</span> lenth = <span class="built_in">sizeof</span>(std)/<span class="built_in">sizeof</span>(std[<span class="number">0</span>]);</span><br><span class="line">    cout &lt;&lt; lenth &lt;&lt; endl;</span><br><span class="line">    <span class="built_in">inputStudent</span>(std,lenth);</span><br><span class="line">    <span class="built_in">printfStudentAll</span>(std,lenth);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; lenth; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        (std+i)-&gt;<span class="built_in">study</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sortByScore</span>(std,lenth);</span><br><span class="line">    <span class="built_in">printfStudentAll</span>(std,lenth);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C++ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>代码规范</title>
      <link href="/2023/03/16/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/"/>
      <url>/2023/03/16/%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/</url>
      
        <content type="html"><![CDATA[<h2 id="编码规范"><a href="#编码规范" class="headerlink" title="编码规范"></a>编码规范</h2><p>1、程序开发流程<br>（1）需求分析<br>（2）功能设计<br>（3）编写代码<br>（4）单元测试<br>（5）功能测试<br>（6）代码REVIEW<br>2、公司开发，一般会有公司的开发规范。<br>3、代码风格要有助于其他程序员易于理解。</p><h2 id="宏观上高质量编码规范"><a href="#宏观上高质量编码规范" class="headerlink" title="宏观上高质量编码规范"></a>宏观上高质量编码规范</h2><p>1、版本和版权的声明<br>2、头文件结构<br>（1）版本和版权的声明<br>（2）预处理部分<br>（3）函数或者结构体声明<br>头文件使用注意事项<br>（1）为了防止头文件被重复引用，在代码中使用:<br>#ifndef、#ifdef、#define、#endif<br>（2）引用标准头文件:<br>#include&lt;标准头文件名.h&gt;<br>（3）引用非标准头文件:<br>#include “非标准头文件名.h”<br>（4）头文件中只存放”声明”，不存放”定义”</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">pr</span><span class="params">()</span>;<span class="comment">//这是声明</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">pr</span><span class="params">()</span></span><br><span class="line">&#123;<span class="comment">//这是定义,实现</span></span><br><span class="line">函数体</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（5）多个c文件合并生成.out&#x2F;.exe可执行文件的过程<br>方法一<br>把定义部分.c文件单独编译成.o文件<br>gcc 1.c -c<br>再把包含main函数的源文件也单独编译成.o文件<br>gcc 2.c -c<br>最后把多个.o文件链接生成可执行文件.out<br>gcc 1.o 2.o<br>方法二<br>gcc .c<br>（6）不提倡使用全局变量，尽量不要在头文件中出现</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">extern</span> <span class="type">int</span> XXX;</span><br></pre></td></tr></table></figure><p>3、源文件<br>（1）定义文件开头处的版权和版本信息<br>（2）对一些头文件的引用<br>（3）程序功能的实现代码，包括数据声明和函数实现</p><p>4、大的项目会涉及到工程目录结构问题<br>（1）通常会把头文件和定义文件分别保存于不同的目录:source，include，lib<br>（2）根据需要，对某些信息进行隐藏</p><p>5、命名规范<br>（1）在变量或者函数名前面加前缀<br>（2）符合标识符命名规范</p><p>6、程序的版式要求<br>（1）空行的合理使用会增加程序的可读性<br>（2）一般每个函数定义结束之后加一个空行<br>（3）代码行，一行代码只做一件事件<br>（4）if、for、while、do语句独占一行，循环体都用大括号<br>（5）尽可能在定义变量的同时初始化变量(就近原则)<br>（6）代码行内空格问题:<br>{<br>关键字之后要留空格，<br>函数名之后不要空格，紧跟左括号，以与关键字区别<br>二元运算符的前后一般应当加空格，一元运算符前后不加空格<br>[]、.、-&gt;这些运算符前后不加空格<br>逗号运算符之后加空格<br>}<br>（7）代码对齐<br>{}左右大括号应当独占一行并且位于同一行，同时与引用它们的语句左对齐{}内代码在左大括号{右边缩进tab位。<br>（8）注释<br>&#x2F;&#x2F;xxXXX<br>&#x2F;XXX* &#x2F;</p><h2 id="微观上高质量编码规范"><a href="#微观上高质量编码规范" class="headerlink" title="微观上高质量编码规范"></a>微观上高质量编码规范</h2><p>1、程序健壮性<br>（1）条件：在保证条件确定和不确定的情况下，程序都能正常运行。<br>（2）复合表达式:<br>a&#x3D;b&#x3D;c&#x3D;0;简洁，提高编译效率<br>不要编写太复杂的复合表达式。<br>不要编写有多用途的复合表达式:d&#x3D;(a&#x3D;b+c)+r;不建议<br>不要把程序中复合表达式与数学的数学式子混淆<br>if(a&gt;b&amp;&amp;b&gt;c){} 与if(a&gt;b&gt;c){};<br>对功能错<br>（3）if语句<br>1）逻辑值(真1，假0)与 零值比较:flag&#x3D;n%2 或者 flag &#x3D;a&gt;b;if(flag){}if(!flag){}<br>2）整型值与零值 比较&#x3D;&#x3D; 或!&#x3D;<br>3）浮点值与零值 比较，不要使用&#x3D;&#x3D;或!&#x3D;，使用 &gt;&#x3D; 或&lt;&#x3D;<br>10.0&#x2F;3*3 在程序中不一定得 10<br>4）指针变量与零值比较，使用&#x3D;&#x3D;或!&#x3D;与NULL比较<br>（4）使用const提高函数的健壮性<br>1）const定义只读变量 const int a&#x3D; 100;<br>2）可以使用const来修饰函数的形参(也叫输入参数)如果使用const修饰了一个指针，则指针指向的数据不能修改</p><p>​3）使用const修饰函数的返回值，修饰返回的指针,则指针指向的数据不能修改</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span> *<span class="title function_">getstring</span><span class="params">()</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>​调用此函数时：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> *str = getstring(); <span class="comment">//编译报错</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span> *str = getstring();<span class="comment">//正确</span></span><br></pre></td></tr></table></figure><p>（5）内存管理的规范<br>1）如何是动态申请内存，使用malloc之后，一定要判断指针值是否为NULL，以避免没有申请到空间的情况。<br>2）不要忘记给数组或者动态申请的内存空间赋值，以避免使用没有初始化内存的值。<br>3）避免数组和指针的下标越界，多1或少1的情况。<br>4）动态内存的申请和释放必须配对出现，防止内存泄漏。<br>5）free之后的指针不要再使用，为了防止这种使用野指针的情况，free之后应立即让指针值为NULL<br>6）当指针变量做为某一个函数的形参时，不要在函数内使用此指针动态申请空问。否则运行报错。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">getMemory</span><span class="params">(<span class="type">char</span> *p,<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">p = (<span class="type">char</span> * )<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">char</span>) * n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span> *str = <span class="literal">NULL</span>;</span><br><span class="line">getMemory(str,<span class="number">100</span>);</span><br><span class="line"><span class="built_in">strcpy</span>(str,<span class="string">&quot;hello world&quot;</span>);<span class="comment">//报错，原因是str地址依然是NULL</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>​7）不要使用return语句返回指向“栈内存”的指针，可以是static内存空间地址<br>2、程序的优化<br>​（1）使用常量的情况<br>​（2）循环语句<br>​1）在多重循环中，如有可能，将循环次数多的循环做为内循环，循环次数的少的循环做为外循环，以减少cpu跨越循环层的次数。<br>​2）当循环体中有条件，且循环次数较多，如有可能，将条件移动循环体外面。<br>​3）尽量做到不要在for循环体中修改循环变量，以防止循环失控。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(xxXX;xxX;循环变量改变)</span><br><span class="line">&#123;</span><br><span class="line">不要在此进行循环变是改变</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>链表</title>
      <link href="/2023/03/11/%E9%93%BE%E8%A1%A8/"/>
      <url>/2023/03/11/%E9%93%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="链表与数组对比"><a href="#链表与数组对比" class="headerlink" title="链表与数组对比"></a>链表与数组对比</h2><table><thead><tr><th><strong>对比项</strong></th><th><strong>链表</strong></th><th><strong>数组</strong></th></tr></thead><tbody><tr><td><strong>查找</strong></td><td>慢</td><td>快</td></tr><tr><td><strong>修改</strong></td><td>慢</td><td>快</td></tr><tr><td><strong>插入</strong></td><td>快</td><td>慢</td></tr><tr><td><strong>删除</strong></td><td>快</td><td>慢</td></tr></tbody></table><h2 id="创建链表"><a href="#创建链表" class="headerlink" title="创建链表"></a>创建链表</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">st_node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> score;  <span class="comment">//数据域</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">st_node</span> *<span class="title">next</span>;</span> <span class="comment">//指针域</span></span><br><span class="line">&#125; Node,*Linklist;</span><br><span class="line">Node *<span class="title function_">creat_linklist</span><span class="params">()</span><span class="comment">//创建链表头节点</span></span><br><span class="line">&#123;</span><br><span class="line">    Node *header = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == header)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;内存分配失败！&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    header-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> header;<span class="comment">//header 1、头指针 2、一个含有头节点的空链表</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Linklist linklist = creat_linklist();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个新节点，成绩为99</span></span><br><span class="line">    Node *newNode = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    newNode-&gt;score = <span class="number">99</span>;</span><br><span class="line">    newNode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//把这个节点添加到链表中</span></span><br><span class="line">    linklist-&gt;next = newNode;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过链表头指针访问链表中的第一个数据节点</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,linklist-&gt;next-&gt;score);<span class="comment">//linklist-&gt;next是第一个数据节点</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="其他链表"><a href="#其他链表" class="headerlink" title="其他链表"></a>其他链表</h2><h3 id="单项或者双向链表"><a href="#单项或者双向链表" class="headerlink" title="单项或者双向链表"></a>单项或者双向链表</h3><p><img src="/img%5CC03_11_1.png"></p><h3 id="带头或者不带头"><a href="#带头或者不带头" class="headerlink" title="带头或者不带头"></a>带头或者不带头</h3><p><img src="/img%5CC03_11_2.png"></p><h3 id="循环或者不循环"><a href="#循环或者不循环" class="headerlink" title="循环或者不循环"></a>循环或者不循环</h3><p><img src="/img%5CC03_11_3.png"></p><h2 id="插入节点"><a href="#插入节点" class="headerlink" title="插入节点"></a>插入节点</h2><h3 id="尾部插入"><a href="#尾部插入" class="headerlink" title="尾部插入"></a>尾部插入</h3><p>步骤：<br>1、定位到链表尾节点；<br>2、创建一个新节点；<br>3、尾部插入新节点。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">push_linklist</span><span class="params">(Linklist linklist,<span class="type">int</span> data)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">NULL</span> != linklist-&gt;next)<span class="comment">//定位到链表尾结点</span></span><br><span class="line">    &#123;</span><br><span class="line">        linklist = linklist-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//创建新节点</span></span><br><span class="line">    Node *pnew_node = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == pnew_node)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;内存申请失败\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pnew_node-&gt;score = data;</span><br><span class="line">    pnew_node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    linklist-&gt;next = pnew_node; <span class="comment">//尾部插入新节点</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="任意插入"><a href="#任意插入" class="headerlink" title="任意插入"></a>任意插入</h3><p>步骤：<br>1、定位到要插入节点位置的前一个节点；<br>2、创建一个新节点；<br>3、插入新节点。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">arbitrarily_linklist</span><span class="params">(Linklist linklist,<span class="type">int</span> olddata,<span class="type">int</span> newdata)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">NULL</span> != linklist-&gt;next)<span class="comment">//定位到链表尾结点</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//找到要插入位置的前一个节点</span></span><br><span class="line">        <span class="keyword">if</span>(linklist-&gt;next-&gt;score == olddata)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//退出定位</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//移动链表指针到下一个节点</span></span><br><span class="line">        linklist = linklist-&gt;next; </span><br><span class="line">    &#125;</span><br><span class="line">    Node *pnew_node = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == pnew_node)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;创建新节点失败\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pnew_node-&gt;score = newdata;</span><br><span class="line">    pnew_node-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    pnew_node-&gt;next = linklist-&gt;next;</span><br><span class="line">    linklist-&gt;next = pnew_node;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h2><h3 id="尾部删除"><a href="#尾部删除" class="headerlink" title="尾部删除"></a>尾部删除</h3><p>步骤：<br>1、定位到链表尾结点的前一个节点处<br>2、定义指针指向要删除的节点。<br>3、删除尾部节点</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//尾部删除</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">pop_linklist</span><span class="params">(Linklist linklist)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">NULL</span> != linklist-&gt;next)<span class="comment">//定位到链表尾结点前一个节点</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//找到要删除位置的前一个节点</span></span><br><span class="line">        <span class="keyword">if</span>(linklist-&gt;next-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//退出定位</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//移动链表指针到下一个节点</span></span><br><span class="line">        linklist = linklist-&gt;next; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//空链表</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == linklist-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;空链表\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node *prmv_node = linklist-&gt;next;<span class="comment">//定义指针指向要删除的节点。</span></span><br><span class="line">    linklist-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">free</span>(prmv_node);</span><br><span class="line">    prmv_node = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="任意删除"><a href="#任意删除" class="headerlink" title="任意删除"></a>任意删除</h3><p>步骤：<br>1、定位到要删除节点（p2）的前一个节点（p1）<br>2、定义一个节点指针prmv_node指向要删除的结点（p2）<br>3、让定位节点（p1）的next赋值为要删除节点（p2）的next<br>      通过prmv_node释放要删除的尾节点，并让prmv_node指向NULL</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//任意删除</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">pop_arbitrarily_linklist</span><span class="params">(Linklist linklist,<span class="type">int</span> data)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">NULL</span> != linklist-&gt;next)<span class="comment">//定位到链表尾结点</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//找到要删除位置的前一个节点</span></span><br><span class="line">        <span class="keyword">if</span>(linklist-&gt;next-&gt;score == data)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//退出定位</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//移动链表指针到下一个节点</span></span><br><span class="line">        linklist = linklist-&gt;next; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 空链表或没找到要删除的位置</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == linklist-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;没找到要删除的位置：\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node *prmv_node = linklist-&gt;next;</span><br><span class="line">    linklist-&gt;next = prmv_node-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(prmv_node);</span><br><span class="line">    prmv_node = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="查找节点"><a href="#查找节点" class="headerlink" title="查找节点"></a>查找节点</h2><p>步骤：<br>1、linklist指针定位到要查找的节点（p2）的前一个节点(p1)<br>2、然后查找linklist-&gt;next的score</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">find_linklist</span><span class="params">(Linklist linklist,<span class="type">int</span> data)</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">while</span> (<span class="literal">NULL</span> != linklist-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 找到该节点则退出循环</span></span><br><span class="line">        <span class="keyword">if</span>(data == linklist-&gt;next-&gt;score)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;找到节点\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        linklist = linklist-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;没有找到该节点\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="修改节点"><a href="#修改节点" class="headerlink" title="修改节点"></a>修改节点</h2><p>步骤：<br>1、linklist指针定位到要修改的节点（p2）的前一个节点(p1)<br>2、查找linklist-&gt;next的score<br>3、修改score的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">revise_linklist</span><span class="params">(Linklist linklist,<span class="type">int</span> olddata,<span class="type">int</span> newdata)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">NULL</span> != linklist-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (linklist-&gt;next-&gt;score == olddata)</span><br><span class="line">        &#123;</span><br><span class="line">            linklist-&gt;next-&gt;score = newdata;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        linklist = linklist-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    print(<span class="string">&quot;没有找到要修改的节点\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="链表排序"><a href="#链表排序" class="headerlink" title="链表排序"></a>链表排序</h2><p>（1）交换节点的数据域的值</p><p>注意：当数据域的值占用的内存比较大的情况下（比如成员比较多的结构体变量），来回拷贝浪费空间和时间</p><p>（2）交换节点的指针域（节点指向）的值</p><p>注意：当数据域的值占用的内存比较大的情况下，交换指针域的值效率高。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">sort_linklist</span><span class="params">(Linklist linklist)</span></span><br><span class="line">&#123;</span><br><span class="line">    Linklist sorted = linklist-&gt;next;</span><br><span class="line">    linklist-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span> (sorted != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Node *curr = sorted;</span><br><span class="line">        sorted = sorted-&gt;next;</span><br><span class="line">        Node *prev = linklist;</span><br><span class="line">        Node *temp = linklist-&gt;next;<span class="comment">// 前一个节点的值大于后一个节点的值，才做交换（升序）</span></span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span> &amp;&amp; (curr-&gt;data &gt; temp-&gt;data))</span><br><span class="line">        &#123;</span><br><span class="line">            prev = temp;  <span class="comment">// 交换指针指向</span></span><br><span class="line">            temp = temp-&gt;next;  <span class="comment">// 交换指针指向</span></span><br><span class="line">        &#125;</span><br><span class="line">        curr-&gt;next = temp;  <span class="comment">// 交换指针指向</span></span><br><span class="line">        prev-&gt;next = curr;  <span class="comment">// 交换指针指向</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>编译预处理</title>
      <link href="/2023/03/06/%E7%BC%96%E8%AF%91%E9%A2%84%E5%A4%84%E7%90%86/"/>
      <url>/2023/03/06/%E7%BC%96%E8%AF%91%E9%A2%84%E5%A4%84%E7%90%86/</url>
      
        <content type="html"><![CDATA[<p>编译预处理是源代码在真正被全部gcc编译之前，编译器就要事先做的工作</p><h2 id="宏定义"><a href="#宏定义" class="headerlink" title="宏定义"></a>宏定义</h2><p>C提供了一种可以替换源代码中的字符串的机制</p><p>语法：#define 宏名(参数表) 宏值</p><h3 id="不带参数宏定义"><a href="#不带参数宏定义" class="headerlink" title="不带参数宏定义"></a>不带参数宏定义</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415926</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SIDE 10</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> AREA SIDE*SIDE</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PR printf(<span class="string">&quot;ethaniel\n&quot;</span>);</span></span><br></pre></td></tr></table></figure><h3 id="带参数的宏定义"><a href="#带参数的宏定义" class="headerlink" title="带参数的宏定义"></a>带参数的宏定义</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MIX(a) (a) * (a)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX(a,b) a&gt;b?a:b</span></span><br></pre></td></tr></table></figure><h2 id="文本包含"><a href="#文本包含" class="headerlink" title="文本包含"></a>文本包含</h2><p>文件目录：<br>header.h</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> HEADER_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> HEADER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">pr</span><span class="params">()</span>;<span class="comment">//函数声明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    使用特定的.h头文件，完成所有相关内容的声明</span></span><br><span class="line"><span class="comment">    1、宏定义</span></span><br><span class="line"><span class="comment">    2、其他常用头文件的包含</span></span><br><span class="line"><span class="comment">    3、结构体、共用体（联合体）、枚举类型的定义</span></span><br><span class="line"><span class="comment">    4、外部函数的声明</span></span><br><span class="line"><span class="comment">    5、全局变量声明</span></span><br><span class="line"><span class="comment">    6、typedef声明</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 分文件写的项目. 编译时，使用gcc *.c编译所有文件</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>main.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;header.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    pr();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>pr.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;header.h&quot;</span></span></span><br><span class="line"><span class="comment">//函数定义、函数实现</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">pr</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ethaniel\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="条件编译"><a href="#条件编译" class="headerlink" title="条件编译"></a>条件编译</h2><p>根据条件是否成立，来确定代码是否参与编译</p><h3 id="（1）单分支"><a href="#（1）单分支" class="headerlink" title="（1）单分支"></a>（1）单分支</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> 条件</span></span><br><span class="line">若干语句;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> 条件</span></span><br><span class="line">若干语句;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="（2）双分支"><a href="#（2）双分支" class="headerlink" title="（2）双分支"></a>（2）双分支</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> 条件</span></span><br><span class="line">若干语句<span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">若干语句<span class="number">2</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> 条件</span></span><br><span class="line">若干语句<span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">若干语句<span class="number">2</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="（3）多分支"><a href="#（3）多分支" class="headerlink" title="（3）多分支"></a>（3）多分支</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> 条件1</span></span><br><span class="line">若干语句<span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件2</span></span><br><span class="line">若干语句<span class="number">2</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件3</span></span><br><span class="line">若干语句<span class="number">3</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件4</span></span><br><span class="line">若干语句<span class="number">4</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件5</span></span><br><span class="line">若干语句<span class="number">5</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> 条件1 <span class="comment">//是否被定义</span></span></span><br><span class="line">若干语句<span class="number">1</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件2</span></span><br><span class="line">若干语句<span class="number">2</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件3</span></span><br><span class="line">若干语句<span class="number">3</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件4</span></span><br><span class="line">若干语句<span class="number">4</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> 条件5</span></span><br><span class="line">若干语句<span class="number">5</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> AAA</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> 3&gt;1 </span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;a\n&quot;</span>);<span class="comment">//条件成立输出a</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">ifndef</span> AAA</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;e\n&quot;</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span> BBB</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;t\n&quot;</span>);<span class="comment">//打印t，因为BBB没有被定义过</span></span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;-----\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>main</title>
      <link href="/2023/03/01/main/"/>
      <url>/2023/03/01/main/</url>
      
        <content type="html"><![CDATA[<p><code>main</code> 函数是 C 程序的入口点，所有程序从这里开始执行。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//argc是执行当前可执行文件时,命令行中字符串的个数（包含命令行本身）</span></span><br><span class="line">    <span class="comment">//argv是命令行中所有的字符串,argv是一个字符串数组，argc值就是数组元素个数</span></span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; argc; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>string.h</title>
      <link href="/2023/02/27/string/"/>
      <url>/2023/02/27/string/</url>
      
        <content type="html"><![CDATA[<p><code>string.h</code> 是 C 语言中处理字符串和内存操作的标准头文件。它包含了许多常用的字符串处理函数和内存操作函数。</p><h2 id="主要函数分类"><a href="#主要函数分类" class="headerlink" title="主要函数分类"></a>主要函数分类</h2><h3 id="字符串复制"><a href="#字符串复制" class="headerlink" title="字符串复制"></a>字符串复制</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strcpy</span><span class="params">(<span class="type">char</span>* dest, <span class="type">const</span> <span class="type">char</span>* src)</span>;</span><br><span class="line"><span class="comment">// 将 src 复制到 dest（包括 &#x27;\0&#x27;）</span></span><br><span class="line"><span class="comment">// 注意：不会检查 dest 大小，可能溢出</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* <span class="title function_">strncpy</span><span class="params">(<span class="type">char</span>* dest, <span class="type">const</span> <span class="type">char</span>* src, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 最多复制 n 个字符，更安全</span></span><br></pre></td></tr></table></figure><h3 id="字符串连接"><a href="#字符串连接" class="headerlink" title="字符串连接"></a>字符串连接</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strcat</span><span class="params">(<span class="type">char</span>* dest, <span class="type">const</span> <span class="type">char</span>* src)</span>;</span><br><span class="line"><span class="comment">// 将 src 连接到 dest 末尾</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* <span class="title function_">strncat</span><span class="params">(<span class="type">char</span>* dest, <span class="type">const</span> <span class="type">char</span>* src, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 最多连接 n 个字符</span></span><br></pre></td></tr></table></figure><h3 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">strcmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s1, <span class="type">const</span> <span class="type">char</span>* s2)</span>;</span><br><span class="line"><span class="comment">// 比较两个字符串</span></span><br><span class="line"><span class="comment">// 返回 0: 相等，&lt;0: s1&lt;s2，&gt;0: s1&gt;s2</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">strncmp</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s1, <span class="type">const</span> <span class="type">char</span>* s2, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 比较前 n 个字符</span></span><br></pre></td></tr></table></figure><h3 id="字符串查找"><a href="#字符串查找" class="headerlink" title="字符串查找"></a>字符串查找</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strchr</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">int</span> c)</span>;</span><br><span class="line"><span class="comment">// 查找字符 c 第一次出现的位置</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* <span class="title function_">strrchr</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">int</span> c)</span>;</span><br><span class="line"><span class="comment">// 查找字符 c 最后一次出现的位置</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* <span class="title function_">strstr</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* haystack, <span class="type">const</span> <span class="type">char</span>* needle)</span>;</span><br><span class="line"><span class="comment">// 查找子串 needle 在 haystack 中的位置</span></span><br><span class="line"></span><br><span class="line"><span class="type">size_t</span> <span class="title function_">strspn</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">const</span> <span class="type">char</span>* accept)</span>;</span><br><span class="line"><span class="comment">// 计算 s 开头连续包含 accept 字符的个数</span></span><br><span class="line"></span><br><span class="line"><span class="type">size_t</span> <span class="title function_">strcspn</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s, <span class="type">const</span> <span class="type">char</span>* reject)</span>;</span><br><span class="line"><span class="comment">// 计算 s 开头连续不包含 reject 字符的个数</span></span><br></pre></td></tr></table></figure><h3 id="字符串分割"><a href="#字符串分割" class="headerlink" title="字符串分割"></a>字符串分割</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span>* <span class="title function_">strtok</span><span class="params">(<span class="type">char</span>* s, <span class="type">const</span> <span class="type">char</span>* delim)</span>;</span><br><span class="line"><span class="comment">// 用 delim 分割字符串 s</span></span><br><span class="line"><span class="comment">// 注意：会修改原字符串，非线程安全</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span>* <span class="title function_">strtok_r</span><span class="params">(<span class="type">char</span>* s, <span class="type">const</span> <span class="type">char</span>* delim, <span class="type">char</span>** saveptr)</span>;</span><br><span class="line"><span class="comment">// 线程安全版本（POSIX 标准）</span></span><br></pre></td></tr></table></figure><h3 id="字符串长度"><a href="#字符串长度" class="headerlink" title="字符串长度"></a>字符串长度</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">size_t</span> <span class="title function_">strlen</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* s)</span>;</span><br><span class="line"><span class="comment">// 返回字符串长度（不包括 &#x27;\0&#x27;）</span></span><br></pre></td></tr></table></figure><h3 id="内存操作函数"><a href="#内存操作函数" class="headerlink" title="内存操作函数"></a>内存操作函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span>* <span class="title function_">memcpy</span><span class="params">(<span class="type">void</span>* dest, <span class="type">const</span> <span class="type">void</span>* src, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 复制内存区域（不处理重叠）</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span>* <span class="title function_">memmove</span><span class="params">(<span class="type">void</span>* dest, <span class="type">const</span> <span class="type">void</span>* src, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 复制内存区域（处理重叠）</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span>* <span class="title function_">memset</span><span class="params">(<span class="type">void</span>* s, <span class="type">int</span> c, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 将内存区域设置为指定值</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">memcmp</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* s1, <span class="type">const</span> <span class="type">void</span>* s2, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 比较内存区域</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span>* <span class="title function_">memchr</span><span class="params">(<span class="type">const</span> <span class="type">void</span>* s, <span class="type">int</span> c, <span class="type">size_t</span> n)</span>;</span><br><span class="line"><span class="comment">// 在内存区域中查找字符</span></span><br></pre></td></tr></table></figure><h2 id="实用示例"><a href="#实用示例" class="headerlink" title="实用示例"></a>实用示例</h2><h3 id="示例-1：基础字符串操作"><a href="#示例-1：基础字符串操作" class="headerlink" title="示例 1：基础字符串操作"></a>示例 1：基础字符串操作</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str1[<span class="number">20</span>] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="type">char</span> str2[<span class="number">20</span>] = <span class="string">&quot;World&quot;</span>;</span><br><span class="line">    <span class="type">char</span> buffer[<span class="number">50</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串复制</span></span><br><span class="line">    <span class="built_in">strcpy</span>(buffer, str1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;复制: %s\n&quot;</span>, buffer);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串连接</span></span><br><span class="line">    <span class="built_in">strcat</span>(buffer, <span class="string">&quot; &quot;</span>);</span><br><span class="line">    <span class="built_in">strcat</span>(buffer, str2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;连接: %s\n&quot;</span>, buffer);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串比较</span></span><br><span class="line">    <span class="type">int</span> cmp = <span class="built_in">strcmp</span>(str1, str2);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;比较: %d\n&quot;</span>, cmp);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 字符串长度</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;长度: %lu\n&quot;</span>, <span class="built_in">strlen</span>(buffer));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="示例-2：字符串查找和分割"><a href="#示例-2：字符串查找和分割" class="headerlink" title="示例 2：字符串查找和分割"></a>示例 2：字符串查找和分割</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> text[] = <span class="string">&quot;apple,banana,cherry,date&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *token;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 使用 strtok 分割字符串</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;分割结果:\n&quot;</span>);</span><br><span class="line">    token = strtok(text, <span class="string">&quot;,&quot;</span>);</span><br><span class="line">    <span class="keyword">while</span> (token != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;  %s\n&quot;</span>, token);</span><br><span class="line">        token = strtok(<span class="literal">NULL</span>, <span class="string">&quot;,&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 查找子串</span></span><br><span class="line">    <span class="type">char</span> str[] = <span class="string">&quot;The quick brown fox jumps over the lazy dog&quot;</span>;</span><br><span class="line">    <span class="type">char</span> *pos = <span class="built_in">strstr</span>(str, <span class="string">&quot;brown&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (pos) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;找到 &#x27;brown&#x27;，位置: %ld\n&quot;</span>, pos - str);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="示例-3：内存操作"><a href="#示例-3：内存操作" class="headerlink" title="示例 3：内存操作"></a>示例 3：内存操作</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> arr1[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    <span class="type">int</span> arr2[<span class="number">5</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 内存复制</span></span><br><span class="line">    <span class="built_in">memcpy</span>(arr2, arr1, <span class="keyword">sizeof</span>(arr1));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;复制数组: &quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, arr2[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 内存设置</span></span><br><span class="line">    <span class="built_in">memset</span>(arr2, <span class="number">0</span>, <span class="keyword">sizeof</span>(arr2));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;清零后: &quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, arr2[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>math.h</title>
      <link href="/2023/02/25/math/"/>
      <url>/2023/02/25/math/</url>
      
        <content type="html"><![CDATA[<p><code>math.h</code> 是C语言标准库中的数学函数头文件，提供了一系列数学计算函数。使用前需要包含头文件：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br></pre></td></tr></table></figure><p><strong>注意</strong>：编译时需要链接数学库，例如在GCC中使用 <code>-lm</code> 选项：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc program.c -o program -lm</span><br></pre></td></tr></table></figure><h2 id="常用数学常数"><a href="#常用数学常数" class="headerlink" title="常用数学常数"></a>常用数学常数</h2><p>预定义常数：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;圆周率 π = %.10f\n&quot;</span>, M_PI);      <span class="comment">// 3.1415926536</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;自然常数 e = %.10f\n&quot;</span>, M_E);       <span class="comment">// 2.7182818285</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;无穷大 INFINITY = %f\n&quot;</span>, INFINITY);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;非数 NAN = %f\n&quot;</span>, NAN);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="基本数学运算函数"><a href="#基本数学运算函数" class="headerlink" title="基本数学运算函数"></a>基本数学运算函数</h2><h3 id="绝对值函数"><a href="#绝对值函数" class="headerlink" title="绝对值函数"></a>绝对值函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span>  <span class="comment">// 注意：abs()在stdlib.h中</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> x = <span class="number">-10</span>;</span><br><span class="line">    <span class="type">double</span> y = <span class="number">-3.14</span>;</span><br><span class="line">    <span class="type">long</span> z = <span class="number">-100L</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;abs(-10) = %d\n&quot;</span>, <span class="built_in">abs</span>(x));        <span class="comment">// 整型绝对值，在stdlib.h</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fabs(-3.14) = %.2f\n&quot;</span>, <span class="built_in">fabs</span>(y));  <span class="comment">// 浮点型绝对值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;labs(-100) = %ld\n&quot;</span>, <span class="built_in">labs</span>(z));    <span class="comment">// 长整型绝对值，在stdlib.h</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// C99新增;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fabsf(-3.14f) = %.2f\n&quot;</span>, fabsf(<span class="number">-3.14f</span>));  <span class="comment">// float版本</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fabsl(-3.14L) = %.2Lf\n&quot;</span>, fabsl(<span class="number">-3.14L</span>)); <span class="comment">// long double版本</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="取整函数"><a href="#取整函数" class="headerlink" title="取整函数"></a>取整函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">3.7</span>;</span><br><span class="line">    <span class="type">double</span> y = <span class="number">-2.3</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ceil(3.7) = %.1f\n&quot;</span>, <span class="built_in">ceil</span>(x));    <span class="comment">// 向上取整：4.0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ceil(-2.3) = %.1f\n&quot;</span>, <span class="built_in">ceil</span>(y));   <span class="comment">// -2.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;floor(3.7) = %.1f\n&quot;</span>, <span class="built_in">floor</span>(x));  <span class="comment">// 向下取整：3.0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;floor(-2.3) = %.1f\n&quot;</span>, <span class="built_in">floor</span>(y)); <span class="comment">// -3.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;trunc(3.7) = %.1f\n&quot;</span>, trunc(x));  <span class="comment">// 向零取整：3.0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;trunc(-2.3) = %.1f\n&quot;</span>, trunc(y)); <span class="comment">// -2.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;round(3.7) = %.1f\n&quot;</span>, round(x));  <span class="comment">// 四舍五入：4.0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;round(-2.3) = %.1f\n&quot;</span>, round(y)); <span class="comment">// -2.0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="余数函数"><a href="#余数函数" class="headerlink" title="余数函数"></a>余数函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">10.5</span>;</span><br><span class="line">    <span class="type">double</span> y = <span class="number">3.2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fmod(10.5, 3.2) = %.2f\n&quot;</span>, <span class="built_in">fmod</span>(x, y));  <span class="comment">// 浮点数取余</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;remainder(10.5, 3.2) = %.2f\n&quot;</span>, remainder(x, y));  <span class="comment">// 标准余数</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// C99新增：remquo函数，同时获取余数和商</span></span><br><span class="line">    <span class="type">int</span> quo;</span><br><span class="line">    <span class="type">double</span> rem = remquo(x, y, &amp;quo);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;remquo(10.5, 3.2): 余数=%.2f, 商=%d\n&quot;</span>, rem, quo);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="幂函数与对数函数"><a href="#幂函数与对数函数" class="headerlink" title="幂函数与对数函数"></a>幂函数与对数函数</h2><h3 id="指数与对数"><a href="#指数与对数" class="headerlink" title="指数与对数"></a>指数与对数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">2.0</span>;</span><br><span class="line">    <span class="type">double</span> y = <span class="number">8.0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 指数函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;exp(2.0) = e^2 = %.4f\n&quot;</span>, <span class="built_in">exp</span>(x));     <span class="comment">// e的x次幂</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;exp2(3.0) = 2^3 = %.1f\n&quot;</span>, exp2(<span class="number">3.0</span>)); <span class="comment">// 2的x次幂</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pow(2.0, 3.0) = %.1f\n&quot;</span>, <span class="built_in">pow</span>(<span class="number">2.0</span>, <span class="number">3.0</span>)); <span class="comment">// x的y次幂</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 对数函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;log(7.389) = %.2f\n&quot;</span>, <span class="built_in">log</span>(<span class="number">7.389</span>));      <span class="comment">// 自然对数(以e为底)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;log10(100) = %.2f\n&quot;</span>, <span class="built_in">log10</span>(<span class="number">100.0</span>));    <span class="comment">// 常用对数(以10为底)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;log2(8) = %.2f\n&quot;</span>, log2(<span class="number">8.0</span>));          <span class="comment">// 以2为底的对数</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 分解浮点数</span></span><br><span class="line">    <span class="type">int</span> exponent;</span><br><span class="line">    <span class="type">double</span> mantissa = <span class="built_in">frexp</span>(<span class="number">12.5</span>, &amp;exponent);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;frexp(12.5): 尾数=%.2f, 指数=%d\n&quot;</span>, mantissa, exponent);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="平方根与立方根"><a href="#平方根与立方根" class="headerlink" title="平方根与立方根"></a>平方根与立方根</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">16.0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sqrt(16) = %.2f\n&quot;</span>, <span class="built_in">sqrt</span>(x));        <span class="comment">// 平方根</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cbrt(27) = %.2f\n&quot;</span>, cbrt(<span class="number">27.0</span>));     <span class="comment">// 立方根</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 勾股定理函数（C99）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hypot(3, 4) = %.2f\n&quot;</span>, hypot(<span class="number">3.0</span>, <span class="number">4.0</span>));  <span class="comment">// √(3²+4²)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h2><h3 id="基本三角函数"><a href="#基本三角函数" class="headerlink" title="基本三角函数"></a>基本三角函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> angle = <span class="number">45.0</span>;  <span class="comment">// 角度</span></span><br><span class="line">    <span class="type">double</span> radian = angle * M_PI / <span class="number">180.0</span>;  <span class="comment">// 转换为弧度</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sin(45°) = %.4f\n&quot;</span>, <span class="built_in">sin</span>(radian));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cos(45°) = %.4f\n&quot;</span>, <span class="built_in">cos</span>(radian));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;tan(45°) = %.4f\n&quot;</span>, <span class="built_in">tan</span>(radian));</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 反三角函数</span></span><br><span class="line">    <span class="type">double</span> value = <span class="number">0.7071</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;asin(0.7071) = %.2f°\n&quot;</span>, <span class="built_in">asin</span>(value) * <span class="number">180</span> / M_PI);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;acos(0.7071) = %.2f°\n&quot;</span>, <span class="built_in">acos</span>(value) * <span class="number">180</span> / M_PI);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;atan(1.0) = %.2f°\n&quot;</span>, <span class="built_in">atan</span>(<span class="number">1.0</span>) * <span class="number">180</span> / M_PI);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// atan2函数 - 计算y/x的反正切，可以正确处理象限</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;atan2(1, 1) = %.2f°\n&quot;</span>, <span class="built_in">atan2</span>(<span class="number">1.0</span>, <span class="number">1.0</span>) * <span class="number">180</span> / M_PI);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;atan2(1, -1) = %.2f°\n&quot;</span>, <span class="built_in">atan2</span>(<span class="number">1.0</span>, <span class="number">-1.0</span>) * <span class="number">180</span> / M_PI);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="双曲函数"><a href="#双曲函数" class="headerlink" title="双曲函数"></a>双曲函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">1.0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sinh(1.0) = %.4f\n&quot;</span>, <span class="built_in">sinh</span>(x));  <span class="comment">// 双曲正弦</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;cosh(1.0) = %.4f\n&quot;</span>, <span class="built_in">cosh</span>(x));  <span class="comment">// 双曲余弦</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;tanh(1.0) = %.4f\n&quot;</span>, <span class="built_in">tanh</span>(x));  <span class="comment">// 双曲正切</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 反双曲函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;asinh(1.175) = %.4f\n&quot;</span>, asinh(<span class="number">1.175</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;acosh(1.543) = %.4f\n&quot;</span>, acosh(<span class="number">1.543</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;atanh(0.462) = %.4f\n&quot;</span>, atanh(<span class="number">0.462</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="误差函数与伽玛函数（C99新增）"><a href="#误差函数与伽玛函数（C99新增）" class="headerlink" title="误差函数与伽玛函数（C99新增）"></a>误差函数与伽玛函数（C99新增）</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">1.0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 误差函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;erf(1.0) = %.6f\n&quot;</span>, erf(x));   <span class="comment">// 误差函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;erfc(1.0) = %.6f\n&quot;</span>, erfc(x)); <span class="comment">// 互补误差函数</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 伽玛函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;tgamma(5.0) = %.2f (4! = 24)\n&quot;</span>, tgamma(<span class="number">5.0</span>));  <span class="comment">// 伽玛函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;lgamma(5.0) = %.6f\n&quot;</span>, lgamma(<span class="number">5.0</span>));  <span class="comment">// 伽玛函数的自然对数</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="浮点数分类与操作"><a href="#浮点数分类与操作" class="headerlink" title="浮点数分类与操作"></a>浮点数分类与操作</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;float.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">1.0</span> / <span class="number">0.0</span>;    <span class="comment">// 无穷大</span></span><br><span class="line">    <span class="type">double</span> y = <span class="number">0.0</span> / <span class="number">0.0</span>;    <span class="comment">// 非数</span></span><br><span class="line">    <span class="type">double</span> z = <span class="number">3.14</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 浮点数分类</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;isinf(x) = %d\n&quot;</span>, isinf(x));    <span class="comment">// 是否无穷大</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;isnan(y) = %d\n&quot;</span>, isnan(y));    <span class="comment">// 是否非数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;isfinite(z) = %d\n&quot;</span>, isfinite(z));  <span class="comment">// 是否有限数</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 符号操作</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;copysign(3.14, -1) = %.2f\n&quot;</span>, copysign(<span class="number">3.14</span>, <span class="number">-1.0</span>));  <span class="comment">// 复制符号</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;signbit(-3.14) = %d\n&quot;</span>, signbit(<span class="number">-3.14</span>));  <span class="comment">// 获取符号位</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 最接近整数函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;rint(2.3) = %.1f\n&quot;</span>, rint(<span class="number">2.3</span>));  <span class="comment">// 当前舍入模式下的舍入值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;nearbyint(2.3) = %.1f\n&quot;</span>, nearbyint(<span class="number">2.3</span>));</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数值比较函数"><a href="#数值比较函数" class="headerlink" title="数值比较函数"></a>数值比较函数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> x = <span class="number">1.0</span>;</span><br><span class="line">    <span class="type">double</span> y = <span class="number">1.0000000001</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 浮点数比较（考虑误差）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fmax(3.14, 2.71) = %.2f\n&quot;</span>, fmax(<span class="number">3.14</span>, <span class="number">2.71</span>));  <span class="comment">// 最大值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fmin(3.14, 2.71) = %.2f\n&quot;</span>, fmin(<span class="number">3.14</span>, <span class="number">2.71</span>));  <span class="comment">// 最小值</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 带NaN处理的比较</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fmax(3.14, NAN) = %.2f\n&quot;</span>, fmax(<span class="number">3.14</span>, NAN));    <span class="comment">// 返回非NaN值</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 差值函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;fdim(5.0, 3.0) = %.2f\n&quot;</span>, fdim(<span class="number">5.0</span>, <span class="number">3.0</span>));  <span class="comment">// 正差值（x-y如果x&gt;y，否则0）</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="实用示例"><a href="#实用示例" class="headerlink" title="实用示例"></a>实用示例</h2><h3 id="示例1：二次方程求解"><a href="#示例1：二次方程求解" class="headerlink" title="示例1：二次方程求解"></a>示例1：二次方程求解</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">solve_quadratic</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b, <span class="type">double</span> c)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> discriminant = b * b - <span class="number">4</span> * a * c;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (discriminant &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">double</span> root1 = (-b + <span class="built_in">sqrt</span>(discriminant)) / (<span class="number">2</span> * a);</span><br><span class="line">        <span class="type">double</span> root2 = (-b - <span class="built_in">sqrt</span>(discriminant)) / (<span class="number">2</span> * a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;两个实根: %.2f, %.2f\n&quot;</span>, root1, root2);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (discriminant == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">double</span> root = -b / (<span class="number">2</span> * a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;一个实根: %.2f\n&quot;</span>, root);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">double</span> real = -b / (<span class="number">2</span> * a);</span><br><span class="line">        <span class="type">double</span> <span class="type">imaginary</span> = <span class="built_in">sqrt</span>(-discriminant) / (<span class="number">2</span> * a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;两个复根: %.2f + %.2fi, %.2f - %.2fi\n&quot;</span>, </span><br><span class="line">               real, <span class="type">imaginary</span>, real, <span class="type">imaginary</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="示例2：计算圆的几何属性"><a href="#示例2：计算圆的几何属性" class="headerlink" title="示例2：计算圆的几何属性"></a>示例2：计算圆的几何属性</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">circle_properties</span><span class="params">(<span class="type">double</span> radius)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> area = M_PI * <span class="built_in">pow</span>(radius, <span class="number">2</span>);</span><br><span class="line">    <span class="type">double</span> circumference = <span class="number">2</span> * M_PI * radius;</span><br><span class="line">    <span class="type">double</span> volume = (<span class="number">4.0</span>/<span class="number">3.0</span>) * M_PI * <span class="built_in">pow</span>(radius, <span class="number">3</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;半径: %.2f\n&quot;</span>, radius);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;面积: %.2f\n&quot;</span>, area);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;周长: %.2f\n&quot;</span>, circumference);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;球体积: %.2f\n&quot;</span>, volume);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="示例3：统计计算"><a href="#示例3：统计计算" class="headerlink" title="示例3：统计计算"></a>示例3：统计计算</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">calculate_statistics</span><span class="params">(<span class="type">double</span> data[], <span class="type">int</span> n)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> sum = <span class="number">0.0</span>, mean, variance = <span class="number">0.0</span>, std_dev;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 计算平均值</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        sum += data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    mean = sum / n;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 计算方差和标准差</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        variance += <span class="built_in">pow</span>(data[i] - mean, <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    variance /= n;</span><br><span class="line">    std_dev = <span class="built_in">sqrt</span>(variance);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;平均值: %.4f\n&quot;</span>, mean);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;方差: %.4f\n&quot;</span>, variance);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;标准差: %.4f\n&quot;</span>, std_dev);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="注意事项与最佳实践"><a href="#注意事项与最佳实践" class="headerlink" title="注意事项与最佳实践"></a>注意事项与最佳实践</h2><h3 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;errno.h&gt;</span>  <span class="comment">// 错误处理</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> result;</span><br><span class="line">    errno = <span class="number">0</span>;  <span class="comment">// 清除错误状态</span></span><br><span class="line">    </span><br><span class="line">    result = <span class="built_in">sqrt</span>(<span class="number">-1.0</span>);  <span class="comment">// 无效输入</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (errno != <span class="number">0</span>) &#123;</span><br><span class="line">        perror(<span class="string">&quot;sqrt函数错误&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (isnan(result)) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;结果不是数字\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="精度考虑"><a href="#精度考虑" class="headerlink" title="精度考虑"></a>精度考虑</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 浮点数精度问题</span></span><br><span class="line">    <span class="type">double</span> a = <span class="number">0.1</span>;</span><br><span class="line">    <span class="type">double</span> b = <span class="number">0.2</span>;</span><br><span class="line">    <span class="type">double</span> c = <span class="number">0.3</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;0.1 + 0.2 == 0.3? %s\n&quot;</span>, </span><br><span class="line">           a + b == c ? <span class="string">&quot;true&quot;</span> : <span class="string">&quot;false&quot;</span>);  <span class="comment">// 可能输出false！</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 更好的比较方式（考虑浮点误差）</span></span><br><span class="line">    <span class="type">double</span> epsilon = <span class="number">1e-10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;使用容差比较: %s\n&quot;</span>, </span><br><span class="line">           <span class="built_in">fabs</span>((a + b) - c) &lt; epsilon ? <span class="string">&quot;true&quot;</span> : <span class="string">&quot;false&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>static</title>
      <link href="/2023/02/23/stataic/"/>
      <url>/2023/02/23/stataic/</url>
      
        <content type="html"><![CDATA[<p>static是C语言中的一个重要关键字，它有多种用法，主要分为三种情况：</p><h2 id="static修饰局部变量"><a href="#static修饰局部变量" class="headerlink" title="static修饰局部变量"></a>static修饰局部变量</h2><p>特性：<br><strong>延长生命周期</strong>：使局部变量的生命周期变为整个程序运行期间<br><strong>保持持久性</strong>：变量只初始化一次，函数调用结束后值不会销毁<br><strong>作用域不变</strong>：仍然只能在定义它的函数内部访问</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> count = <span class="number">0</span>;  <span class="comment">// 只初始化一次</span></span><br><span class="line">    count++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Count: %d\n&quot;</span>, count);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    test();  <span class="comment">// 输出: Count: 1</span></span><br><span class="line">    test();  <span class="comment">// 输出: Count: 2</span></span><br><span class="line">    test();  <span class="comment">// 输出: Count: 3</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="内存分配："><a href="#内存分配：" class="headerlink" title="内存分配："></a>内存分配：</h3><ul><li>普通局部变量：存储在栈区，函数结束时释放</li><li>static局部变量：存储在静态存储区（数据段），程序结束时释放</li></ul><h2 id="static修饰全局变量"><a href="#static修饰全局变量" class="headerlink" title="static修饰全局变量"></a>static修饰全局变量</h2><p>特性：<br><strong>限制作用域</strong>：将全局变量的作用域限制在当前源文件内<br><strong>防止外部链接</strong>：其他源文件无法通过<code>extern</code>声明访问<br><strong>避免命名冲突</strong>：在不同文件中可以有同名的static全局变量</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// file1.c</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> hidden_global = <span class="number">10</span>;  <span class="comment">// 只在file1.c中可见</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// file2.c</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> hidden_global;  <span class="comment">// 错误！无法访问file1.c中的static全局变量</span></span><br></pre></td></tr></table></figure><h2 id="static修饰函数"><a href="#static修饰函数" class="headerlink" title="static修饰函数"></a>static修饰函数</h2><p>特性：<br><strong>限制作用域</strong>：将函数的作用域限制在当前源文件内<br><strong>内部链接</strong>：只能在定义它的文件中调用<br><strong>实现封装</strong>：隐藏函数实现，提供模块化设计</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// math_utils.c</span></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> <span class="title function_">helper_function</span><span class="params">()</span></span><br><span class="line">&#123;  <span class="comment">// 内部辅助函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">public_function</span><span class="params">()</span></span><br><span class="line">&#123;  <span class="comment">// 可被外部调用的函数</span></span><br><span class="line">    <span class="keyword">return</span> helper_function();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main.c</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">helper_function</span><span class="params">()</span>;  <span class="comment">// 错误！无法声明static函数</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">public_function</span><span class="params">()</span>;  <span class="comment">// 正确！可以声明和调用</span></span><br></pre></td></tr></table></figure><h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h2><h3 id="计数器"><a href="#计数器" class="headerlink" title="计数器"></a>计数器</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">get_unique_id</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> id = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> ++id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="单例模式（简化版）"><a href="#单例模式（简化版）" class="headerlink" title="单例模式（简化版）"></a>单例模式（简化版）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> Config* <span class="title function_">get_config</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> <span class="class"><span class="keyword">struct</span> <span class="title">Config</span> <span class="title">config</span>;</span></span><br><span class="line">    <span class="keyword">return</span> &amp;config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="缓存上次计算结果"><a href="#缓存上次计算结果" class="headerlink" title="缓存上次计算结果"></a>缓存上次计算结果</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> n)</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> cache[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) <span class="keyword">return</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (cache[n] == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">        cache[n] = fibonacci(n<span class="number">-1</span>) + fibonacci(n<span class="number">-2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cache[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;F(10) = %d\n&quot;</span>, fibonacci(<span class="number">10</span>));  <span class="comment">// 第一次：计算并缓存</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;F(10) = %d\n&quot;</span>, fibonacci(<span class="number">10</span>));  <span class="comment">// 第二次：直接从缓存读取</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;F(5) = %d\n&quot;</span>, fibonacci(<span class="number">5</span>));    <span class="comment">// 直接从缓存读取</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;F(15) = %d\n&quot;</span>, fibonacci(<span class="number">15</span>));  <span class="comment">// 只计算新的部分</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="初始化规则"><a href="#初始化规则" class="headerlink" title="初始化规则"></a>初始化规则</h3><p>static变量的初始化：</p><ul><li>自动初始化为0（数值类型）或NULL（指针类型）</li><li>只在第一次进入作用域时初始化</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">example</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> a;          <span class="comment">// a初始化为0</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> b = <span class="number">10</span>;     <span class="comment">// b初始化为10（只初始化一次）</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span>* ptr;       <span class="comment">// ptr初始化为NULL</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>动态内存</title>
      <link href="/2023/02/21/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/"/>
      <url>/2023/02/21/%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<h2 id="动态内存函数的介绍"><a href="#动态内存函数的介绍" class="headerlink" title="动态内存函数的介绍"></a>动态内存函数的介绍</h2><h3 id="使用malloc和free"><a href="#使用malloc和free" class="headerlink" title="使用malloc和free"></a>使用malloc和free</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span>* <span class="title function_">malloc</span> <span class="params">(<span class="type">size_t</span> size)</span>;</span><br></pre></td></tr></table></figure><p>函数说明：malloc函数向操作系统申请一块连续可用的内存，并返回指向这块内存的指针。<br>返回值：void*，因为malloc并不知道你的内存放入什么类型的数据。<br>参数：size表示内存的大小（字节）</p><p>注意：malloc函数的声明在stdlib.h 头文件中</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">free</span> <span class="params">(<span class="type">void</span>* ptr)</span>;</span><br></pre></td></tr></table></figure><p>说明：free函数是专门是用来做动态内存的释放和回收的。<br>返回值：void，无返回值。<br>参数：ptr表示这块动态内存的首地址</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> *ptr = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">int</span> size = <span class="number">10</span>;</span><br><span class="line">    </span><br><span class="line">    ptr = (<span class="type">int</span> *)<span class="built_in">malloc</span>(size * <span class="keyword">sizeof</span>(<span class="type">int</span>)); <span class="comment">// 分配4个字节的动态内存</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == ptr)<span class="comment">//判断ptr指针是否为空</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;内存分配失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 给动态内存上分配的数组初始化</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        *(ptr + i) = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; size; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *(ptr + i));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(ptr);  <span class="comment">// 释放ptr所指向的动态内存</span></span><br><span class="line">    ptr = <span class="literal">NULL</span>; <span class="comment">// ptr指向0，拒绝野指针</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用calloc函数"><a href="#使用calloc函数" class="headerlink" title="使用calloc函数"></a>使用calloc函数</h3><p>void* calloc (size_t num,size_t size);</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span>*ptr = (<span class="type">int</span> *)<span class="built_in">calloc</span>(<span class="number">10</span>,<span class="keyword">sizeof</span>(<span class="type">int</span>)); <span class="comment">// 分配4个字节的动态内存</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == ptr)<span class="comment">//判断ptr指针是否为空</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;内存分配失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(ptr);  <span class="comment">// 释放ptr所指向的动态内存</span></span><br><span class="line">    ptr = <span class="literal">NULL</span>; <span class="comment">// ptr指向0，拒绝野指针</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用realloc函数"><a href="#使用realloc函数" class="headerlink" title="使用realloc函数"></a>使用realloc函数</h3><p>void* realloc (void* ptr, size_t size);</p><p>说明：为了合理的分配内存，我们一定会对内存的大小做灵活的调整。<br>返回值：为调整之后的内存起始位置，这个函数调整原内存空间大小的基础上，还会将原来内存中的数据移动到新的空间。<br>参数：<br> ptr：表示是要调整的内存地址<br> size：表示调整之后新大小</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 分配4字节的内存</span></span><br><span class="line">    <span class="type">int</span>* ptr=(<span class="type">int</span> *)<span class="built_in">calloc</span>(<span class="number">1</span>, <span class="keyword">sizeof</span>(<span class="type">int</span>));  <span class="comment">// 长度</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">NULL</span> == ptr)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;分配内存失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    *ptr = <span class="number">666</span>; <span class="comment">// 赋值666</span></span><br><span class="line">    <span class="comment">// 现在想给这块内存再扩展4个字节</span></span><br><span class="line">    ptr = (<span class="type">int</span> *)<span class="built_in">realloc</span>(ptr, <span class="number">2</span> * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    *(ptr + <span class="number">1</span>) = <span class="number">888</span>; <span class="comment">// 给扩展的4字节内存放入888</span></span><br><span class="line">    <span class="comment">// 遍历扩展后的内存中所有的值</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, ptr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(ptr);</span><br><span class="line">    ptr = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意事项：realloc在调整扩展内存空间时，存在两种情况</p><p>情况1：原有空间有足够的空间，要扩展内存就直接原有内存之后直接追加空间，原来空间的数据不发生变化。</p><p>情况2：原有空间之后没有足够多的空间时，扩展的方法是：在堆空间上另找一个合适大小的连续空间来使用。这样函数返回的是一个新的内存地址。</p><h2 id="常见的动态内存错误"><a href="#常见的动态内存错误" class="headerlink" title="常见的动态内存错误"></a>常见的动态内存错误</h2><h3 id="（1）每次动态分配都要做检查"><a href="#（1）每次动态分配都要做检查" class="headerlink" title="（1）每次动态分配都要做检查"></a>（1）每次动态分配都要做检查</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(ptr == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;内存分配失败&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="（2）动态开辟空间的越界访问"><a href="#（2）动态开辟空间的越界访问" class="headerlink" title="（2）动态开辟空间的越界访问"></a>（2）动态开辟空间的越界访问</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> i = <span class="number">0</span></span><br><span class="line"><span class="type">int</span> *ptr = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;= <span class="number">10</span>;i++)<span class="comment">//越界</span></span><br><span class="line">&#123;</span><br><span class="line">*(ptr + i) = i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="（3）非动态开辟内存使用free释放"><a href="#（3）非动态开辟内存使用free释放" class="headerlink" title="（3）非动态开辟内存使用free释放"></a>（3）非动态开辟内存使用free释放</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *ptr = &amp;a;</span><br><span class="line"><span class="built_in">free</span>(ptr);<span class="comment">//错误释放非动态开辟的内存</span></span><br></pre></td></tr></table></figure><h3 id="（4）使用free释放一块从非首地址开始的动态内存"><a href="#（4）使用free释放一块从非首地址开始的动态内存" class="headerlink" title="（4）使用free释放一块从非首地址开始的动态内存"></a>（4）使用free释放一块从非首地址开始的动态内存</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *ptr = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">ptr++;</span><br><span class="line"><span class="built_in">free</span>(ptr);<span class="comment">//异常</span></span><br></pre></td></tr></table></figure><h3 id="（5）对同一块动态内存多次释放"><a href="#（5）对同一块动态内存多次释放" class="headerlink" title="（5）对同一块动态内存多次释放"></a>（5）对同一块动态内存多次释放</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">free</span>(ptr);</span><br><span class="line"><span class="built_in">free</span>(ptr);</span><br></pre></td></tr></table></figure><h3 id="（6）动态开辟内存忘记释放（内存泄漏）"><a href="#（6）动态开辟内存忘记释放（内存泄漏）" class="headerlink" title="（6）动态开辟内存忘记释放（内存泄漏）"></a>（6）动态开辟内存忘记释放（内存泄漏）</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> *ptr = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="number">10</span>*<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="keyword">if</span>(ptr == <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;内存分配失败&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//进行free释放</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="几个经典的笔试题"><a href="#几个经典的笔试题" class="headerlink" title="几个经典的笔试题"></a>几个经典的笔试题</h2><h3 id="题一"><a href="#题一" class="headerlink" title="题一"></a>题一</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">GetMemory</span><span class="params">(<span class="type">char</span> *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p = (<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="number">100</span>);<span class="comment">//p-&gt;malloc(100)</span></span><br><span class="line"><span class="comment">//且指针未被释放</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str = <span class="literal">NULL</span>;<span class="comment">//str-&gt;null</span></span><br><span class="line">    GetMemory(str);<span class="comment">//p-&gt;null</span></span><br><span class="line">    <span class="built_in">strcpy</span>(str,<span class="string">&quot;hello world&quot;</span>);<span class="comment">//strcpy是属于非法写内存NULL，程序异常</span></span><br><span class="line">    <span class="built_in">printf</span>(str);</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>报错：编译正常，运行报错</p><p><img src="/img%5CC14_1.png"></p><h3 id="题二"><a href="#题二" class="headerlink" title="题二"></a>题二</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">char</span> *<span class="title function_">GetMemory</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> p[] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> p;<span class="comment">//局部变量，调用程序后进行回收</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str = <span class="literal">NULL</span>;</span><br><span class="line">    str = GetMemory();<span class="comment">//str-&gt;非法内存</span></span><br><span class="line">    <span class="built_in">printf</span>(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>报错：编译错误</p><p><img src="/img%5CC14_2.png"></p><h3 id="题三"><a href="#题三" class="headerlink" title="题三"></a>题三</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">GetMemory</span><span class="params">(<span class="type">char</span> **p,<span class="type">int</span> num)</span></span><br><span class="line">&#123;</span><br><span class="line">    p = (<span class="type">char</span> *)<span class="built_in">malloc</span>(num);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str = <span class="literal">NULL</span>;</span><br><span class="line">    GetMemory(&amp;str,<span class="number">100</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(str,<span class="string">&quot;ethaniel&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>报错：未报错，但是没释放动态内存</p><h3 id="题四"><a href="#题四" class="headerlink" title="题四"></a>题四</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str = (<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="number">100</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(str,<span class="string">&quot;ethaniel&quot;</span>);</span><br><span class="line">    <span class="built_in">free</span>(str);</span><br><span class="line">    <span class="keyword">if</span>(str !=<span class="literal">NULL</span>)<span class="comment">//str已释放，再次调用生成野指针</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">strcpy</span>(str,<span class="string">&quot;blog&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>报错：释放后再次调用导致的报错<br><img src="/img%5CC14_3.png"></p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>文件操作</title>
      <link href="/2023/02/16/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/"/>
      <url>/2023/02/16/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="文件的概念"><a href="#文件的概念" class="headerlink" title="文件的概念"></a>文件的概念</h2><h3 id="文件标识"><a href="#文件标识" class="headerlink" title="文件标识"></a>文件标识</h3><p><img src="/img/C12_1.png" alt="C12_1"></p><p>1、每个文件要有一个唯一的文件标识，以便于用户识别和引用</p><p>2、文件标识包含3部分：文件路径+文件名+文件后缀。</p><p>3、同一系统下不存在两个完全相同的文件标识</p><h3 id="文件分类"><a href="#文件分类" class="headerlink" title="文件分类"></a>文件分类</h3><p>根据其数据存储方式和内容的特点：</p><p><strong>文本文件：</strong></p><p>是一种计算机文件，其中存储的是纯文本数据，通常使用ASCII码或Unicode编码进行表示。它包含的内容通常是人类可读的文本，比如字母、数字、标点符号和其他可打印字符，而不包含二进制数据或特殊格式。</p><p>格式：txt、csv、xml、html</p><p><strong>二进制文件:</strong></p><p>是一种计算机文件，其中存储的是以二进制形式表示的数据二进制文件可以包含各种类型的数据，如图片、音频、视频、可执行代码等。它们通常由特定的程序或应用程序进行创建和处理。</p><p>格式：JPEG、MP3、MP4、EXE</p><table><thead><tr><th></th><th><strong>文本文件</strong></th><th><strong>二进制文件</strong></th></tr></thead><tbody><tr><td>存储方式</td><td>文本形式存储的文件，使用字符编码（如ASCII或Unicode）来表示字符</td><td>字节（8位）的形式</td></tr><tr><td>内容表示</td><td>内容是以可读的文本形式呈现，可以直接打开并查看。</td><td>通常是非文本数据，如图像、音频、视频等，不可直接阅读。</td></tr><tr><td>可编辑性</td><td>可以使用文本编辑器直接编辑和修改</td><td>需要使用专门的程序或工具进行编辑和修改</td></tr><tr><td>文件大小</td><td>使用了较多的字符编码来表示文本内容，故较大</td><td>直接以字节形式存储，节省了存储空间</td></tr><tr><td>跨平台兼容性</td><td>较好的兼容性</td><td>在不同操作系统之间可能存在兼容性问题</td></tr></tbody></table><p>总结：    文本文件适合存储和传输可读的文本数据，而二进制文件适合存储和处理非文本的二进制数据。具体选择使用哪种文件类型取决于你的需求和所处理的数据类型。</p><h3 id="文件作用"><a href="#文件作用" class="headerlink" title="文件作用"></a>文件作用</h3><p>文件是计算机中存储和管理数据的一种方式，它具有存储、传输、持久性和访问控制等功能。</p><h2 id="FILE类型介绍"><a href="#FILE类型介绍" class="headerlink" title="FILE类型介绍"></a>FILE类型介绍</h2><h3 id="IO流的概念"><a href="#IO流的概念" class="headerlink" title="IO流的概念"></a>IO流的概念</h3><p>我们把这种数据的传输，可以看做是一种数据的流动，按照流动的方向，以内存为基准，按照数据流向分为输入input 和输出output ，即流向内存是输入流，流出内存的输出流。</p><p><img src="/img%5CC12_2.png"></p><h3 id="FILE介绍"><a href="#FILE介绍" class="headerlink" title="FILE介绍"></a>FILE介绍</h3><p>C语言中I&#x2F;O操作主要是指使用<strong>FILE结构体</strong>下的内容，进行输入、输出操作。输入也叫做读取数据，输出也叫做作写入数据。</p><p><img src="/img%5CC12_3.png"></p><p>在C语言中，FILE是一个结构体类型，用于表示文件流。它是通过标准库中的文件操作函数来进行文件读写的重要数据类型。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span><span class="comment">//文件操作需要用到stdio.h头文件中提供的函数和结构体</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    FILE* file_ptr = <span class="literal">NULL</span>; <span class="comment">//声明一个 FILE 类型的指针</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="标准库函数"><a href="#标准库函数" class="headerlink" title="标准库函数"></a>标准库函数</h3><h4 id="IO的分类"><a href="#IO的分类" class="headerlink" title="IO的分类"></a>IO的分类</h4><p>根据数据的流向分为：输入流 、输出流 </p><p>根据数据的类型分为：字符输入输出流、文本输入输出流、格式化输入输出流、数据块输入输出流</p><table><thead><tr><th>功能</th><th>函数原型</th></tr></thead><tbody><tr><td>打开文件</td><td>fopen(const char* filename, const char* mode)</td></tr><tr><td>关闭文件</td><td>fclose(FILE* filename)</td></tr><tr><td>字符读取函数</td><td>fgetc(FILE *stream)</td></tr><tr><td>字符写入函数</td><td>fputc(int char, FILE *stream)</td></tr><tr><td>文本行读取函数</td><td>fgets(char *str, int n, FILE *stream)</td></tr><tr><td>文本行写入函数</td><td>fputs(const char *str, FILE *stream)</td></tr><tr><td>格式化读取函数</td><td>fscanf(FILE *stream, const char *format, …)</td></tr><tr><td>格式化写入函数</td><td>fprintf(FILE *stream, const char *format, …)</td></tr><tr><td>数据块读取</td><td>fread(void *ptr, size_t size, size_t nmemb, FILE *stream)</td></tr><tr><td>数据块写入</td><td>fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream)</td></tr></tbody></table><h2 id="文件的操作"><a href="#文件的操作" class="headerlink" title="文件的操作"></a>文件的操作</h2><table><thead><tr><th>实现操作</th><th>函数</th><th>说明</th></tr></thead><tbody><tr><td>打开文件</td><td>fopen函数</td><td>打开一个文件</td></tr><tr><td>读取文件</td><td>fread、fgetc、fgets、fscanf函数</td><td>文件中读取数据</td></tr><tr><td>写入文件</td><td>fwrite、fputc、fputs、fprintf函数</td><td>将数据写入文件</td></tr><tr><td>关闭文件</td><td>fclose函数</td><td>关闭文件，释放资源</td></tr></tbody></table><h3 id="文件的打开与关闭"><a href="#文件的打开与关闭" class="headerlink" title="文件的打开与关闭"></a>文件的打开与关闭</h3><p><strong>打开文件</strong>：FILE* fopen(const char* filename, const char* mode);</p><p>说明：1、const char* filename：需要打开的文件标识。<br>   2、const char* mode：这个参数指定了打开文件的方式。</p><p><strong>关闭文件</strong>：int fclose(FILE* filename);</p><p>说明：FILE* filename：这个参数是需要关闭的文件的文件指针。</p><table><thead><tr><th>文件使用方式</th><th align="left">含义</th><th>如果指定文件不存在</th></tr></thead><tbody><tr><td>“r”（只读）</td><td align="left">为了输入数据，打开一个已经存在的文本文件</td><td>出错</td></tr><tr><td>“w”（只写）</td><td align="left">为了输出数据，打开一个文本文件</td><td>建立一个新的文件</td></tr><tr><td>“a”（*追加）</td><td align="left">向文本文件尾添加数据</td><td>建立一个新的文件</td></tr><tr><td>“rb”（只读）</td><td align="left">为了输入数据，打开一个二进制文件</td><td>出错</td></tr><tr><td>“wb”（只写）</td><td align="left">为了输出数据，打开一个二进制文件</td><td>建立一个新的文件</td></tr><tr><td>“ab”（追加）</td><td align="left">向一个二进制文件尾添加数据</td><td>出错</td></tr><tr><td>“r+”（读写）</td><td align="left">为了读和写，打开一个文本文件</td><td>出错</td></tr><tr><td>“w+”（读写）</td><td align="left">为了读和写，建议一个新的文件</td><td>建立一个新的文件</td></tr><tr><td>“a+”（读写）</td><td align="left">打开一个文件，在文件尾进行读写</td><td>建立一个新的文件</td></tr><tr><td>“rb+”（读写）</td><td align="left">为了读和写打开一个二进制文件</td><td>出错</td></tr><tr><td>“wb+”（读写）</td><td align="left">为了读和写，新建一个新的二进制文件</td><td>建立一个新的文件</td></tr><tr><td>“ab+”（读写）</td><td align="left">打开一个二进制文件，在文件尾进行读和写</td><td>建立一个新的文件</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="type">char</span> filename[] = <span class="string">&quot;1.txt&quot;</span>;</span><br><span class="line">    fp = fopen(filename,<span class="string">&quot;r&quot;</span>);<span class="comment">//打开文件（打开文件的名称，以只读读的方式打开）</span></span><br><span class="line">    <span class="comment">//以上三行可简化：FILE* fp = fopen(&quot;1.txt&quot;,&quot;r&quot;);</span></span><br><span class="line">    <span class="comment">//检查文件是否成功打开</span></span><br><span class="line">    <span class="keyword">if</span>(fp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法打开文件%s\n&quot;</span>,filename);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;打开文件%s\n&quot;</span>,filename);  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//关闭文件操作</span></span><br><span class="line">    fclose(fp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意事项：<br>1、总是检查fopen的返回值：确保文件已成功打开。<br>2、使用fclose关闭文件：避免资源泄漏并确保写入操作被保存。</p><h3 id="字符读取、写入"><a href="#字符读取、写入" class="headerlink" title="字符读取、写入"></a>字符读取、写入</h3><p><strong>字符写入</strong>：int fputc(int c, FILE *stream);</p><p>说明：1、int c：需要写入的字符；<br>   2、FILE *stream：指向要写入的文件的文件指针；<br>   3、返回值：成功时返回写入的字符的ASCII码值，失败时返回EOF(-1)。</p><p><strong>字符读取</strong>：int fgetc(FILE *stream);</p><p>说明： 1、FILE *stream：指向FILE类型的指针，表示要读取字符的文件流；<br>    2、返回值：读取的字符，以整数形式返回。如果读取成功，返回读取的字符的ASCII码值；如果到达  文件     末尾或者出现错误，返回EOF（-1）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">file_copy</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> ch = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="comment">//打开源文件</span></span><br><span class="line">    FILE *sourceFile = fopen(<span class="string">&quot;source.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);<span class="comment">//读指针</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建目标文件</span></span><br><span class="line">    FILE *destinationFile = fopen(<span class="string">&quot;destination.txt&quot;</span>, <span class="string">&quot;w&quot;</span>);<span class="comment">//写指针</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == sourceFile)&#123;</span><br><span class="line">        perror(<span class="string">&quot;打开源文件失败的原因\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="literal">NULL</span> == destinationFile)&#123;</span><br><span class="line">        perror(<span class="string">&quot;创建目标文件失败的原因\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="number">-1</span> != (ch = fgetc(sourceFile)))</span><br><span class="line">    &#123;</span><br><span class="line">        fputc(ch, destinationFile);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;文件复制成功。\n&quot;</span>);</span><br><span class="line">    fclose(sourceFile);</span><br><span class="line">    fclose(destinationFile);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> flag = file_copy();</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">0</span> == flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;文件拷贝成功\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">1</span> == flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;打开源文件失败\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">2</span> == flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;打开目标文件失败\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="文本行读取、写入"><a href="#文本行读取、写入" class="headerlink" title="文本行读取、写入"></a>文本行读取、写入</h3><p>**文本行写入：**int fputs(const char *str, FILE *stream);</p><p>说明：1、const char *str：要写入文件的字符串，以空字符(‘\0’)结尾；<br>   2、FILE *stream：指向要写入的文件的文件指针；<br>   3、返回值：成功写入时，返回非负值，写入失败时，返回EOF（-1）。<br>   4、fputs每次写入一行文本数据到文件，fputs不会自动添加换行</p><p>**文本行读取：**char *fgets(char *str, int n, FILE *stream);</p><p>说明：1、char *str：指向一个字符数组的指针，用于存储读取的字符串；<br>   2、int n:最大读取字符数，包括换行符和终止符；<br>   3、FILE *stream：指向一个文件流的指针；<br>   4、返回值：是一个指向存储的字符串的指针，如果读取失败或到达文件结束，返回NULL。<br>注意：fgets每次读取指定数量的字符，实际读入的字符个数等于指定的数量-1，并主动在最后添加’\0’。<br>   fgets每次只能读取一行字符，如果需要连续读取多行字符，可以使用循环结构。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *pfile = fopen(<span class="string">&quot;source.txt&quot;</span>,<span class="string">&quot;r&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (pfile == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        perror(<span class="string">&quot;文件打开失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span> buffer[<span class="number">100</span>] = &#123;&#125;;</span><br><span class="line">    fgets(buffer,<span class="number">10</span>,pfile);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,buffer);</span><br><span class="line">    fclose(pfile);  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *pfile = fopen(<span class="string">&quot;destination.txt&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (pfile == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        perror(<span class="string">&quot;文件打开失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">fputs</span>(<span class="string">&quot;hello world\n&quot;</span>,pfile);</span><br><span class="line">    fclose(pfile);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="格式化读取、写入"><a href="#格式化读取、写入" class="headerlink" title="格式化读取、写入"></a>格式化读取、写入</h3><p>**格式化写入：**int fprintf(FILE *stream, const char *format, …)</p><p>说明：1、FILE *stream：指向一个文件流的指针；<br>   2、const char *format：格式字符串，用于指定数据的读取格式；<br>   3、后面的参数根据格式字符串中的格式符来决定，和printf类似；</p><p>注意：<br>printf可以把非文本数据（格式化数据）转为文本数据，然后在写入文件，fprintf并不能写入非文本数据。</p><p>**格式化读取：**int fscanf(FILE *stream, const char *format, …)</p><p>说明：1、FILE *stream：指向一个文件流的指针；<br>   2、const char *format：格式字符串，用于指定数据的读取格式；<br>   3、后面的参数根据格式字符串中的格式符来决定，和scanf类似；<br>   4、返回值：是成功匹配并读取的数据项数，有三种结果。如果成功读取并匹配了指定的数据项，则返回成功读取的数据项数。如果发生了读取错误或遇到文件结束，返回EOF（-1）。</p><p>注意：如果fscanf函数在读取过程中遇到无法匹配的数据项或者读取错误，会停止读取后续数据项，直接返回当前已成功读取的数据项数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *fp = fopen(<span class="string">&quot;text1.txt&quot;</span>,<span class="string">&quot;w&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        perror(<span class="string">&quot;文件打开失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">    <span class="built_in">fprintf</span>(fp,<span class="string">&quot;%d&quot;</span>,num);</span><br><span class="line">    fclose(fp);</span><br><span class="line">    fp = fopen(<span class="string">&quot;text1.txt&quot;</span>,<span class="string">&quot;r&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        perror(<span class="string">&quot;文件打开失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">fscanf</span>(fp,<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;文件中读取的数据:%d\n&quot;</span>,num);</span><br><span class="line">    fclose(fp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数据块的读取、写入"><a href="#数据块的读取、写入" class="headerlink" title="数据块的读取、写入"></a>数据块的读取、写入</h3><p>**数据块写入：<em><em>fwrite(const void</em> ptr, size_t size, size_t nmemb, FILE</em> stream)</p><p>说明：1、const void* ptr：指向你想写入文件的数据；<br>   2、size_t size：每个数据元素的大小，以字节为单位。<br>例如：写入一个整数数组，则该值应该是sizeof(int)；<br>   3、size_t nmemb：要写入的数据元素的个数；<br>   4、FILE* stream：指向要写入的文件的指针。<br>   5、返回值：实际写入的数据块数量。</p><p>**数据块读取：<em><em>int num &#x3D; fread(void</em> ptr, size_t size, size_t nmemb, FILE</em> stream)</p><p>说明：1、void* ptr：指向存储数据的缓冲区的指针，即每次读取的内容放在缓冲区内；<br>   2、size_t size：每个数据元素的大小，以字节为单位。<br>例如：读取一个整数数组，则该值应该是sizeof(int)；<br>   3、size_t nmemb：要读取的数据元素的个数；<br>   4、FILE* stream：指向要读取的文件的指针。<br>   5、返回值：成功读取的元素个数。若读取成功，num&gt;0;如果发生错误或者达到文件末尾，num&lt;&#x3D;0。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">st_stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">float</span> score;</span><br><span class="line">&#125;Stu;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Stu s[<span class="number">2</span>] = &#123;&#123;<span class="string">&quot;wy&quot;</span>,<span class="number">18</span>,<span class="number">99.9</span>&#125;,&#123;<span class="string">&quot;ml&quot;</span>,<span class="number">20</span>,<span class="number">98.9</span>&#125;&#125;;</span><br><span class="line">    FILE* fp = fopen(<span class="string">&quot;10.txt&quot;</span>,<span class="string">&quot;wb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        perror(<span class="string">&quot;文件打开失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    fwrite(s,<span class="keyword">sizeof</span>(Stu),<span class="keyword">sizeof</span>(s)/<span class="keyword">sizeof</span>(Stu),fp);</span><br><span class="line">    fclose(fp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">st_stu</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">float</span> score;</span><br><span class="line">&#125;Stu;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Stu s[<span class="number">2</span>] = &#123;&#125;;</span><br><span class="line">    FILE* fp = fopen(<span class="string">&quot;10.txt&quot;</span>,<span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        perror(<span class="string">&quot;文件打开失败&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    fread(s,<span class="keyword">sizeof</span>(Stu),<span class="keyword">sizeof</span>(s)/<span class="keyword">sizeof</span>(Stu),fp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s %d %.1f\n&quot;</span>,s[<span class="number">0</span>].name,s[<span class="number">0</span>].age,s[<span class="number">0</span>].score);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s %d %.1f\n&quot;</span>,s[<span class="number">1</span>].name,s[<span class="number">1</span>].age,s[<span class="number">1</span>].score);</span><br><span class="line">    fclose(fp);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结：使用场景</p><table><thead><tr><th><strong>读写方式</strong></th><th><strong>应用场景</strong></th><th><strong>举例</strong></th></tr></thead><tbody><tr><td>字符</td><td>处理单个字符的场景</td><td>键盘读取</td></tr><tr><td>文本行</td><td>处理文本文件的场景</td><td>处理配置文件、日志文件、文本文档等</td></tr><tr><td>格式化</td><td>处理具有特定格式的数据的场景</td><td>比如将一个整数格式化为字符串、将字符串解析为浮点数等</td></tr><tr><td>数据块</td><td>处理二进制数据的场景</td><td>处理图像、音频、视频等二进制文件，以及网络传输中的数据块</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>自定义类型</title>
      <link href="/2023/02/11/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B/"/>
      <url>/2023/02/11/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<h2 id="结构体"><a href="#结构体" class="headerlink" title="结构体"></a>结构体</h2><h3 id="结构体类型的声明"><a href="#结构体类型的声明" class="headerlink" title="结构体类型的声明"></a>结构体类型的声明</h3><p>结构体是一种用户自定义的数据类型，用于存储不同类型的数据，可以包含多个不同的成员变量。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> 结构体名 &#123;</span></span><br><span class="line">    类型 成员变量<span class="number">1</span>;</span><br><span class="line">    类型 成员变量<span class="number">2</span>;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>注意：<br>1、{ }内部是结构体的成员变量<br>2、结构体结尾时，最后的分号不能丢</p><h3 id="特殊声明"><a href="#特殊声明" class="headerlink" title="特殊声明"></a>特殊声明</h3><h4 id="匿名结构体声明"><a href="#匿名结构体声明" class="headerlink" title="匿名结构体声明"></a>匿名结构体声明</h4><p>可以在定义一个结构体类型的同时，直接定义变量，可以不给结构体起名字</p><p>使用场景：一次性使用的结构体类型</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">&#125; person;</span><br><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">&#125; person[<span class="number">20</span>];</span><br></pre></td></tr></table></figure><h4 id="结构体成员也是结构体类型"><a href="#结构体成员也是结构体类型" class="headerlink" title="结构体成员也是结构体类型"></a>结构体成员也是结构体类型</h4><p>结构体可以作为另一个结构体的成员</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Date</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">    <span class="type">int</span> month;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Date</span> <span class="title">birthday</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p</span>[3] =</span> &#123;</span><br><span class="line">        &#123;<span class="string">&quot;Ethaniel&quot;</span>, <span class="number">2000</span>, <span class="number">10</span>, <span class="number">1</span>&#125;,&#123;<span class="string">&quot;李四&quot;</span>, <span class="number">2001</span>,<span class="number">5</span>,<span class="number">1</span>&#125;,&#123;<span class="string">&quot;王五&quot;</span>,&#123;<span class="number">2023</span>, <span class="number">1</span>, <span class="number">1</span>&#125;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s, %d-%d-%d\n&quot;</span>, p[<span class="number">1</span>].name, p[<span class="number">1</span>].birthday.year, p[<span class="number">1</span>].birthday.month, p[<span class="number">1</span>].birthday.day);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> Person));<span class="comment">//32</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="keyword">sizeof</span>(p[<span class="number">0</span>]));<span class="comment">//32</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="结构体变量的定义、初始化和成员访问"><a href="#结构体变量的定义、初始化和成员访问" class="headerlink" title="结构体变量的定义、初始化和成员访问"></a>结构体变量的定义、初始化和成员访问</h3><h4 id="结构体的变量是普通变量"><a href="#结构体的变量是普通变量" class="headerlink" title="结构体的变量是普通变量"></a>结构体的变量是普通变量</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="comment">//结构体的声明</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> s_name[<span class="number">20</span>];<span class="comment">//字符数组存放字符串</span></span><br><span class="line">    <span class="type">char</span> s_id[<span class="number">20</span>];</span><br><span class="line">    <span class="type">int</span> score[<span class="number">3</span>];</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//定义结构体变量 </span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">s1</span>;</span><span class="comment">//没有对s1进行初始化</span></span><br><span class="line">    <span class="comment">//结构体变量s1的成员可以直接使用，运算符访问</span></span><br><span class="line">    <span class="comment">//赋值操作：</span></span><br><span class="line">    <span class="built_in">strcpy</span>(s1.s_id,<span class="string">&quot;s001&quot;</span>);<span class="comment">//s1.s_id[0]=&#x27;s&#x27;; s1.s_id[1]=&#x27;0&#x27;;s1.s_id[2]=&#x27;0&#x27;;s1.s_id[3]=&#x27;7&#x27;;s1.s_id[4]=&#x27;\0&#x27;;</span></span><br><span class="line">    <span class="built_in">strcpy</span>(s1.s_name,<span class="string">&quot;Ethaniel&quot;</span>);</span><br><span class="line">    s1.score[<span class="number">0</span>] = <span class="number">90</span>;</span><br><span class="line">    s1.score[<span class="number">1</span>] = <span class="number">95</span>;</span><br><span class="line">    s1.score[<span class="number">2</span>] = <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//访问(输出)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\n&quot;</span>, s1.s_name);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;学号:%s\n&quot;</span>, s1.s_id);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;语文成绩:%d,数学成绩:%d,英语成绩:%d\n&quot;</span>, s1.score[<span class="number">0</span>],s1.score[<span class="number">1</span>],s1.score[<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">s2</span> =</span> &#123;<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;s002&quot;</span>, <span class="number">99</span>, <span class="number">88</span>, <span class="number">77</span>&#125;;<span class="comment">//初始化了s2</span></span><br><span class="line">    <span class="comment">//访问(输出)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\n&quot;</span>, s2.s_name);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;学号:%s\n&quot;</span>, s2.s_id);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;语文成绩:%d,数学成绩:%d,英语成绩:%d\n&quot;</span>, s2.score[<span class="number">0</span>],s2.score[<span class="number">1</span>],s2.score[<span class="number">2</span>]);    </span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(s2.s_name, <span class="string">&quot;王五&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\n&quot;</span>, s2.s_name);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="结构体变量是指针变量"><a href="#结构体变量是指针变量" class="headerlink" title="结构体变量是指针变量"></a>结构体变量是指针变量</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//结构体的声明</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//定义结构体变量</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">s</span>;</span></span><br><span class="line">    <span class="comment">//定义结构体指针并赋值</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> *<span class="title">ptr</span> =</span> &amp;s;</span><br><span class="line">    <span class="comment">//赋值</span></span><br><span class="line">    <span class="comment">//ptr-&gt;name=&quot;张三&quot;;</span></span><br><span class="line">    <span class="comment">//-&gt;结构体中指针赋值</span></span><br><span class="line">    <span class="built_in">strcpy</span>(ptr-&gt;name,<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">    ptr-&gt;age=<span class="number">18</span>;</span><br><span class="line">    (*ptr).age  = <span class="number">19</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\n&quot;</span>, ptr-&gt;name);</span><br><span class="line">    <span class="comment">// printf(&quot;年龄:%d\n&quot;, ptr-&gt;age);</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;年龄:%d\n&quot;</span>, (*ptr).age);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(ptr-&gt;name,<span class="string">&quot;如花&quot;</span>);</span><br><span class="line">    (*ptr).age = <span class="number">23</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意事项：<br>1、使用正确的运算符：普通变量用点运算符（.），指针变量用箭头运算符（-&gt;）来访问结构体的成员2、正确的成员名：结构体成员的名称是区分大小写的，需要确保大小写正确。</p><h4 id="其他初始化"><a href="#其他初始化" class="headerlink" title="其他初始化"></a>其他初始化</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//逐个成员赋值</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p1</span> =</span> &#123;&#125;;</span><br><span class="line"><span class="built_in">strcpy</span>(p1.name, <span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">p1.age = <span class="number">20</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;姓名：%s,年龄：%d\n&quot;</span>,p1.name,p1.age);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p2</span>;</span></span><br><span class="line"><span class="built_in">strcpy</span>(p2.name, <span class="string">&quot;Jerry&quot;</span>);</span><br><span class="line">p2.age = <span class="number">25</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;姓名：%s,年龄：%d\n&quot;</span>,p2.name,p2.age);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//整体赋值</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p3</span> =</span> p2;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;姓名：%s,年龄：%d\n&quot;</span>,p3.name,p3.age);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//初始化赋值</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p4</span> =</span> &#123;<span class="string">&quot;lisi&quot;</span>,<span class="number">18</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;姓名：%s,年龄：%d\n&quot;</span>,p4.name,p4.age);</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Person</span> <span class="title">p5</span> =</span> &#123;</span><br><span class="line">                .name =<span class="string">&quot;wangwu&quot;</span>,</span><br><span class="line">                .age = <span class="number">19</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;姓名：%s,年龄：%d\n&quot;</span>,p5.name,p5.age);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="结构体传参"><a href="#结构体传参" class="headerlink" title="结构体传参"></a>结构体传参</h3><h4 id="值传递"><a href="#值传递" class="headerlink" title="值传递"></a>值传递</h4><p>将整个结构体变量的值复制一份，传递给函数。在函数内部对结构体的修改不会影响原始的结构体类型。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">void</span> <span class="title function_">printPoint</span><span class="params">(<span class="keyword">struct</span> Point p)</span></span><br><span class="line">&#123;</span><br><span class="line">    p.x=<span class="number">30</span>;</span><br><span class="line">    p.y=<span class="number">50</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;函数中:x: %d, y: %d\n&quot;</span>, p.x, p.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Point</span> <span class="title">p</span> =</span> &#123;<span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    printPoint(p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;main函数中:x: %d, y: %d\n&quot;</span>, p.x, p.y);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意事项：<br>1、优点：保护原始数据不被修改。<br>2、缺点：若结构体大，可能消耗大量内存。</p><h4 id="指针传递"><a href="#指针传递" class="headerlink" title="指针传递"></a>指针传递</h4><p>将结构体的指针传递给函数，通过指针可以直接修改原始的结构体变量。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">void</span> <span class="title function_">modifyPoint</span><span class="params">(<span class="keyword">struct</span> Point* p)</span> </span><br><span class="line">&#123;</span><br><span class="line">    p-&gt;x += <span class="number">10</span>;</span><br><span class="line">    p-&gt;y += <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;函数中:x: %d, y: %d\n&quot;</span>, p-&gt;x, p-&gt;y);  </span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Point</span> <span class="title">p</span> =</span> &#123;<span class="number">3</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    modifyPoint(&amp;p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;main函数中:x: %d, y: %d\n&quot;</span>, p.x, p.y);  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意事项：<br>1、优点：内存使用高效，大型结构体传递快速。<br>2、缺点：可能导致原始数据不安全，因为可以通过指针直接修改结构体内的数据。</p><h3 id="typedef用法"><a href="#typedef用法" class="headerlink" title="typedef用法"></a>typedef用法</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="comment">//一、typedef(typedef 原数据类型 数据新类型的别名)</span></span><br><span class="line"><span class="comment">// typedef int INT; 起个别名</span></span><br><span class="line"><span class="comment">// INT main()</span></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     INT data = 777;</span></span><br><span class="line"><span class="comment">//     printf(&quot;%d\n&quot;, data);</span></span><br><span class="line"><span class="comment">//     return 0;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//结构体定义变量也可以起别名</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">st_student</span>//<span class="title">st_student</span>结构体名称</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">char</span> name[<span class="number">20</span>];</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">&#125;Stu;<span class="comment">//Stu结构体别名</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Stu student = &#123;&#125;;<span class="comment">//直接写别名Stu了</span></span><br><span class="line">    <span class="built_in">strcpy</span>(student.name,<span class="string">&quot;ww&quot;</span>);</span><br><span class="line">    student.age = <span class="number">16</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;姓名:%s\n&quot;</span>, student.name);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="简单链表"><a href="#简单链表" class="headerlink" title="简单链表"></a>简单链表</h3><p>结构体的自引用就是指在结构体内部，包含指向自身类型结构体的指针。</p><p>链表是由一个个节点通过指针域链接而成的表，所以，我们只需要定义一个节点，就可以定义整个表</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="type">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;*linklist;</span><br></pre></td></tr></table></figure><p>首元结点：链表中有有效（非头节点）的第一个节点称为：”首元结点”</p><p>头节点：”首元结点”前额外增设的节点，特点：数据域内一般不放数据，也可以放链表长度等信息。</p><p>头指针：指向链表的第一个节点的指针；作用，他用来识别链表的起始位置，并通过它可以遍历整个链表</p><p>空表：头指针或者头节点的指针域为null的链表</p><p><img src="/img%5CC11_1.png" alt="C11_1"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span><span class="comment">//动态内存</span></span></span><br><span class="line"><span class="comment">// 定义一个结构体</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> data;<span class="comment">//数据域</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">next</span>;</span><span class="comment">//指针域</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;   </span><br><span class="line">    <span class="comment">//创建结构体节点</span></span><br><span class="line">    <span class="comment">// struct Node node1, node2, node3;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 初始化节点数据</span></span><br><span class="line">    <span class="comment">// node1.data = 10;</span></span><br><span class="line">    <span class="comment">// node2.data = 20;</span></span><br><span class="line">    <span class="comment">// node3.data = 30;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 构建节点之间的关系</span></span><br><span class="line">    <span class="comment">// node1.next = &amp;node2;</span></span><br><span class="line">    <span class="comment">// node2.next = &amp;node3;</span></span><br><span class="line">    <span class="comment">// node3.next = NULL;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 遍历并打印节点数据</span></span><br><span class="line">    <span class="comment">// struct Node* p = &amp;node1;//p为头指针</span></span><br><span class="line">    <span class="comment">// while (NULL != p) </span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//     printf(&quot;%d\n&quot;, p-&gt;data);</span></span><br><span class="line">    <span class="comment">//     p = p-&gt;next;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// //在链表中添加一个新节点</span></span><br><span class="line">    <span class="comment">// struct Node node4 = &#123;40, NULL&#125;;</span></span><br><span class="line">    <span class="comment">// node3.next = &amp;node4;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// //遍历并打印节点数据</span></span><br><span class="line">    <span class="comment">// p = &amp;node1;</span></span><br><span class="line">    <span class="comment">// while(NULL!= p)</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">//     printf(&quot;%d\n&quot;, p-&gt;data);</span></span><br><span class="line">    <span class="comment">//     p = p-&gt;next;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个有100个节点的带有头指针的单链表:头插法</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">head</span> =</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i&lt;<span class="number">100</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">newNode</span> =</span> (<span class="keyword">struct</span> Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));<span class="comment">//</span></span><br><span class="line">        newNode-&gt;data = i;</span><br><span class="line">        newNode-&gt;next = head;</span><br><span class="line">        head = newNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span>* <span class="title">p</span> =</span> head;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">NULL</span>!= p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, p-&gt;data);<span class="comment">//99 98 97 .... 3 2 1 0</span></span><br><span class="line">        p = p -&gt; next; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>两种不合法案例</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//案例1</span></span><br><span class="line"> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="type">int</span> data;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> <span class="title">next</span>;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//案例2</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="type">int</span> data;</span><br><span class="line">Node* next;</span><br><span class="line">&#125;Node;</span><br></pre></td></tr></table></figure><p>注意事项：结构体自引用，成员定义只能是指针。</p><h3 id="结构体内存对齐"><a href="#结构体内存对齐" class="headerlink" title="结构体内存对齐"></a>结构体内存对齐</h3><p>是指编译器在分配结构体变量的内存空间时，按照一定的规则将结构体成员按照一定的字节对齐方式进行排列。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Test</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> a; </span><br><span class="line">    <span class="type">char</span> b;       </span><br><span class="line">    <span class="type">int</span> c; </span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Test</span> <span class="title">test</span> =</span> &#123;<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>, <span class="keyword">sizeof</span>(test));<span class="comment">//12</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注：以下都是在32位操作系统上讨论</p><p>寄存器只能从整除以4的地址开始读取数据</p><p>内存对齐的目的：提高内存访问效率和处理器的数据访问速度</p><p>注意：<br>结构体的内存对齐是由编译器根据一定的规则来进行的，可以提高内存访问的效率和速度。对于特定的应用场景，可以根据需要进行适当的对齐优化。</p><h2 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h2><p>枚举是一种用户自定义的数据类型，用于定义一组具体的常量。枚举常量被称为枚举值，它们可以是整数、字符或字符串类型。</p><h3 id="枚举类型的定义及使用"><a href="#枚举类型的定义及使用" class="headerlink" title="枚举类型的定义及使用"></a>枚举类型的定义及使用</h3><p>枚举定义:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> 枚举类型名 </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">枚举值<span class="number">1</span>, </span><br><span class="line">枚举值<span class="number">2</span>,</span><br><span class="line">...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//声明一个枚举</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Weekday</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    MONDAY,</span><br><span class="line">    TUESDAY,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">Weekday</span> <span class="title">today</span> =</span> TUESDAY;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, today);<span class="comment">//2</span></span><br><span class="line">    <span class="keyword">switch</span>(today)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> MONDAY:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;今天是星期一\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> TUESDAY:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;今天是星期二\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;无效的枚举值\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="枚举的使用场景"><a href="#枚举的使用场景" class="headerlink" title="枚举的使用场景"></a>枚举的使用场景</h3><table><thead><tr><th><strong>场景</strong></th><th><strong>说明</strong></th><th><strong>案例</strong></th></tr></thead><tbody><tr><td>状态&#x2F;类型</td><td>当程序中有一组固定的状态或类型需要使用时</td><td>enum season<br />{<br />spring,<br />Summer,<br />};</td></tr><tr><td>错误码的表示</td><td>枚举来表示不同的错误码，提高代码的可读性和可维护性</td><td>enum ErrorCode<br />{<br />SUCCESS,<br />NOT_FOUND,<br />};</td></tr><tr><td>选项的表示</td><td>当某个变量有一组固定的选项时</td><td>enum Gender<br />{<br />MAN,<br />UNMAN,<br />};</td></tr><tr><td>常量集合的定义</td><td>当程序需要定义一组常量时</td><td>enum Color<br />{<br />MAN,<br />UNMAN,<br />};</td></tr></tbody></table><p>注意：<br>1、枚举类型变量的值其实就是整数值<br>2、枚举类型的变量赋值尽可能使用枚举变量，而不是整数值</p><h2 id="共用体（联合）"><a href="#共用体（联合）" class="headerlink" title="共用体（联合）"></a>共用体（联合）</h2><p>共用体（union）是一种特殊的数据类型，它允许不同的数据类型共享同一块内存空间。只能同时存储其中一个成员的值。</p><h3 id="共用体类型的定义"><a href="#共用体类型的定义" class="headerlink" title="共用体类型的定义"></a>共用体类型的定义</h3><p>定义格式（声明）：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> 联合名称</span></span><br><span class="line"><span class="class"> &#123;</span></span><br><span class="line">类型 成员变量<span class="number">1</span>; </span><br><span class="line">类型 成员变量<span class="number">2</span>; </span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">MyUnion</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> a;</span><br><span class="line">    <span class="type">char</span> b;</span><br><span class="line">    <span class="type">int</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">union</span> <span class="title">MyUnion</span> <span class="title">u</span>;</span></span><br><span class="line">    u.a = <span class="number">1</span>;</span><br><span class="line">    u.b = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">    u.c = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>,<span class="keyword">sizeof</span>(u));<span class="comment">//4</span></span><br><span class="line"><span class="comment">//联合体只有一个内存空间；</span></span><br><span class="line">    <span class="comment">//内存空间的大小为最大成员变量空间，但要注意内存对齐，可能要调整这个大小；</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="共用体的特点"><a href="#共用体的特点" class="headerlink" title="共用体的特点"></a>共用体的特点</h3><p>由于共用体的成员共享同一块内存空间，因此对一个成员的赋值会影响到其他成员的值</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">MyUnion</span> </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> num;    </span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">union</span> <span class="title">MyUnion</span> <span class="title">u</span> =</span> &#123;&#125;;</span><br><span class="line">    u.num = <span class="number">97</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, u.num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, u.c);</span><br><span class="line"> </span><br><span class="line">    u.c = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, u.num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, u.c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意事项：<br>联合体的使用需要谨慎，因为它对数据的存储和访问方式较为复杂，容易引发错误。</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言使用vs code自动编译运行</title>
      <link href="/2023/02/06/VS%20Code%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%90%E8%A1%8C/"/>
      <url>/2023/02/06/VS%20Code%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%90%E8%A1%8C/</url>
      
        <content type="html"><![CDATA[<p>因为在上述的c语言开发中使用windows中vs code 使用的是gcc 文件名.c -o 编译后的文件名<br>进行编译运行的程序.&#x2F;编译后的文件名 现使用自动化软件进行编译运行如下：</p><h2 id="第一步-参数配置"><a href="#第一步-参数配置" class="headerlink" title="第一步:参数配置"></a>第一步:参数配置</h2><p>将.vscode文件下载到<a href="https://pan.quark.cn/s/38718088c912%E9%9C%80%E8%A6%81%E8%BF%90%E8%A1%8C%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9%E5%86%85">https://pan.quark.cn/s/38718088c912需要运行的文件夹内</a></p><p>launch.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;configurations&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"> </span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++ Runner: Debug Session&quot;</span><span class="punctuation">,</span>        </span><br><span class="line">      <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cppdbg&quot;</span><span class="punctuation">,</span>                              </span><br><span class="line">      <span class="attr">&quot;request&quot;</span><span class="punctuation">:</span> <span class="string">&quot;launch&quot;</span><span class="punctuation">,</span>                           </span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>                                   </span><br><span class="line">      <span class="attr">&quot;stopAtEntry&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>                          </span><br><span class="line">      <span class="attr">&quot;externalConsole&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span>                      </span><br><span class="line">      <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;&quot;</span><span class="punctuation">,</span>    </span><br><span class="line">      <span class="attr">&quot;program&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span><span class="punctuation">,</span>   </span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">      <span class="attr">&quot;MIMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;miDebuggerPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/mingw64/bin/gdb.exe&quot;</span><span class="punctuation">,</span>  # 改成你自己的调试器gdb全路径</span><br><span class="line">      <span class="attr">&quot;setupCommands&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">          <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Enable pretty-printing for gdb&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;-enable-pretty-printing&quot;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">&quot;ignoreFailures&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure><p>tasks.json</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;tasks&quot;</span><span class="punctuation">:</span> </span><br><span class="line">    <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;label&quot;</span><span class="punctuation">:</span> <span class="string">&quot;C/C++: gcc.exe build active file&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;process&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/mingw64/bin/gcc.exe&quot;</span><span class="punctuation">,</span>  # 改成你自己的路径</span><br><span class="line">            <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span></span><br><span class="line">            <span class="punctuation">[</span></span><br><span class="line">                <span class="string">&quot;-fdiagnostics-color=always&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-g&quot;</span><span class="punctuation">,</span> </span><br><span class="line">                <span class="string">&quot;$&#123;file&#125;&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;-o&quot;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">&quot;$&#123;fileDirname&#125;\\$&#123;fileBasenameNoExtension&#125;.exe&quot;</span></span><br><span class="line">            <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> </span><br><span class="line">            <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;cwd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;D:/mingw64/bin/&quot;</span>  # 改成你自己的路径</span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;group&quot;</span><span class="punctuation">:</span> <span class="string">&quot;build&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="string">&quot;compiler: D:/mingw64/bin/gcc.exe&quot;</span><span class="punctuation">,</span>  # 改成你自己的路径 </span><br><span class="line">            <span class="attr">&quot;problemMatcher&quot;</span><span class="punctuation">:</span> <span class="string">&quot;$gcc&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="第二步-编译运行"><a href="#第二步-编译运行" class="headerlink" title="第二步:编译运行"></a>第二步:编译运行</h2><p>自动运行程序步骤：</p><p>编译：vs code–&gt;终端–&gt;运行生成任务</p><p><img src="/img%5CC10_1.png" alt="C10_1"></p><p>运行：vs code–&gt;运行–&gt;以非调试模式运行</p><p><img src="/img%5CC10_2.png" alt="C10_2"></p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>指针</title>
      <link href="/2023/02/01/%E6%8C%87%E9%92%88/"/>
      <url>/2023/02/01/%E6%8C%87%E9%92%88/</url>
      
        <content type="html"><![CDATA[<h2 id="指针的定义"><a href="#指针的定义" class="headerlink" title="指针的定义"></a>指针的定义</h2><p>用来存放内存单元地址，内存单元地址唯一标识一块内存空间</p><p>指针定义方式：数据类型  *变量名;</p><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *a;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;<span class="comment">//在内存中开辟一块空间</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,&amp;a);<span class="comment">//通过&amp;（地址运算符）获取变量a的内存地址值：0x6ffee666d6f</span></span><br><span class="line">    <span class="type">int</span> *pa = &amp;a;<span class="comment">//定义指针，并将a的地址赋值给指针</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,pa);<span class="comment">//打印指针：0x6ffee666d6f</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结论：</p><p>1、指针就是变量在内存中单元中的地址值；<br>2、地址值是整数值；<br>3、一般用“%p”的格式，以十六进制显示。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a:%d\n&quot;</span>,a);<span class="comment">//打印a的值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;a: %p\n&quot;</span>,&amp;a);<span class="comment">//打印a的地址编号(%p:十六进制打印地址)、打印a的地址，&amp;是取地址运算符</span></span><br><span class="line">    <span class="type">int</span> *ptr = &amp;a;<span class="comment">//*表示声明的是一个指针类型的变量ptr</span></span><br><span class="line"><span class="comment">//*此时是一个标志符，表示ptr是一个指针变量</span></span><br><span class="line"><span class="comment">//int表示这个指针变量ptr只能保存int类型变量的地址</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ptr:%p\n&quot;</span>,ptr);<span class="comment">//打印ptr的值,是一个地址</span></span><br><span class="line">    <span class="comment">//用%p打印即是用十六进制打印地址编号</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;ptr:%p\n&quot;</span>,&amp;ptr);<span class="comment">//打印ptr的地址编号、打印ptr的地址</span></span><br><span class="line">    <span class="type">int</span> **pptr = &amp;ptr;<span class="comment">//pptr是一个二级指针变量，保存的是一级指针变量ptr的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(a):%lu\n&quot;</span>,<span class="keyword">sizeof</span>(a));<span class="comment">//4字节</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(ptr):%lu\n&quot;</span>,<span class="keyword">sizeof</span>(ptr));<span class="comment">//8字节</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*ptr:%d\n&quot;</span>,*ptr);<span class="comment">//10</span></span><br><span class="line">    <span class="comment">//*ptr是根据ptr中保存的地址，</span></span><br><span class="line">    <span class="comment">//去访问对应的地址空间&lt;=====&gt;printf(&quot;*ptr:%d\n&quot;,a);</span></span><br><span class="line">    <span class="comment">//*单目运算符，表示指针间接访问运算符。</span></span><br><span class="line">    <span class="comment">//*的含义：1、指针标记2、指针解引用3、乘号</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*&amp;a:%d\n&quot;</span>,*&amp;a);</span><br><span class="line">    <span class="comment">//*&amp;是互逆操作，操作抵消了&lt;--&gt;*&amp;a&lt;--&gt;a</span></span><br><span class="line"></span><br><span class="line">    *ptr = <span class="number">100</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*ptr:%d\n&quot;</span>,*ptr); <span class="comment">//100</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>,a);<span class="comment">//100</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*ptr*200:%d\n&quot;</span>,*ptr * <span class="number">200</span>);</span><br><span class="line">    <span class="comment">//两个*运算。一个是指针运算，一个是乘法运算</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;**pptr:%d\n&quot;</span>,**pptr);<span class="comment">//100</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//a、&amp;a、ptr、*ptr、&amp;ptr、sizeof(a)、sizeof(ptr)</span></span><br></pre></td></tr></table></figure><h2 id="指针的大小"><a href="#指针的大小" class="headerlink" title="指针的大小"></a>指针的大小</h2><p>指针存放地址，所以指针的大小直接取决于地址的大小，即与机器字长有关，与地址空间中存放的数据类型无关。</p><table><thead><tr><th><strong>机器平台</strong></th><th><strong>指针大小</strong></th></tr></thead><tbody><tr><td>32位机器</td><td>地址是32位组成二进制序列，用4个字节的空间来存储，所以指针变量的大小就是4个字节</td></tr><tr><td>64位机器</td><td>地址是64位组成二进制序列，用8个字节的空间来存储，所以指针变量的大小就是8个字节</td></tr></tbody></table><h2 id="指针操作"><a href="#指针操作" class="headerlink" title="指针操作"></a>指针操作</h2><h3 id="指针解引用"><a href="#指针解引用" class="headerlink" title="指针解引用*"></a>指针解引用*</h3><p>通过指针访问所指向内存中存储的变量（或数据）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] =&#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>&#125;;   </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,&amp;arr[<span class="number">0</span>]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,arr);</span><br><span class="line"><span class="type">int</span> *ptr = arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);<span class="comment">//数组名&lt;--&gt;数组首元素地址&lt;--&gt;数组第一个字节地址&lt;--&gt;指针</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//10</span></span><br></pre></td></tr></table></figure><p>注意与乘号进行区别使用（乘号是双目运算符，乘号两边必须有两个操作数）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *ptr; <span class="comment">//与 int* ptr;  与 int * ptr; 都是用来定义一个prt指针变量的；功能完全相同。</span></span><br><span class="line"><span class="type">int</span> *ptr1,n=<span class="number">10</span>; <span class="comment">//这是定义了一个ptr1指针变量，和一个n普通变量。</span></span><br><span class="line">ptr1  = &amp;n；<span class="comment">//ptr指针变量里保存了n的地址。也说成：ptr1指向了n。</span></span><br></pre></td></tr></table></figure><h3 id="“-整数”操作"><a href="#“-整数”操作" class="headerlink" title="“+-整数”操作"></a>“+-整数”操作</h3><p>代表指针地址在内存中加减一定数量的元素单元，也就是指针指向的元素发生了变化</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] =&#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>&#125;;</span><br><span class="line"><span class="type">int</span> *ptr=arr;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line">ptr +=<span class="number">2</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//30</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br><span class="line"></span><br><span class="line">ptr -=<span class="number">1</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//20</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br></pre></td></tr></table></figure><p>指针的类型决定了指针向前（+整数）或者向后（-整数）走一步有多大（距离）</p><h2 id="野指针"><a href="#野指针" class="headerlink" title="野指针"></a>野指针</h2><p>指未初始化的指针，或者指向不合法地址的指针</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *ptr；</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, ptr);</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">指针未初始化</th><th align="center">未初始化的指针，当前就是野指针</th></tr></thead><tbody><tr><td align="center"><strong>指针超过作用域</strong></td><td align="center"><strong>当一个指针超出了它所在的作用域,指针指向的内存是非法的或者已经被释放的</strong></td></tr><tr><td align="center"><strong>指针被释放后未置空</strong></td><td align="center"><strong>涉及到动态内存分配和释放</strong></td></tr></tbody></table><p>如何规避野指针：</p><p>1、指针初始化<br>2、 小心指针越界<br>3、指针指向空间释放即置为空NULL</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 10</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>&#125;;</span><br><span class="line">    <span class="comment">//数组名就是首元素的地址，是常量，不能修改</span></span><br><span class="line">    <span class="comment">//有四个元素：arr[0],arr[1],arr[2],arr[3]</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> arr3[<span class="number">4</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> arr2[<span class="number">4</span>] = &#123;<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>,<span class="number">400</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//arr3 = arr2; 错误，不能将一个数组赋值给另一个数组</span></span><br><span class="line">    <span class="comment">//N = 20;  错误，不能修改符号常量</span></span><br><span class="line">    </span><br><span class="line">    *arr = *arr2;<span class="comment">//&lt;--&gt;*&amp;arr[0] = *&amp;arr2[0]&lt;--&gt;arr[0] = arr2[0];</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;arr[0]：%d\n&quot;</span>,arr[<span class="number">0</span>]);<span class="comment">//100</span></span><br><span class="line">    </span><br><span class="line">    *arr *= *arr2;</span><br><span class="line">    <span class="comment">//&lt;--&gt;arr[0] *= arr2[0];</span></span><br><span class="line">    <span class="comment">//&lt;--&gt;arr[0] = arr[0] * arr2[0];;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;arr[0]：%d\n&quot;</span>,arr[<span class="number">0</span>]);<span class="comment">//10000</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*arr：%d\n&quot;</span>,*arr);<span class="comment">//10000</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *ptr = arr;<span class="comment">//等价于&lt;--&gt;int *ptr = &amp;arr[0];</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);<span class="comment">//arr[0]的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//arr[0]的值 10000</span></span><br><span class="line"></span><br><span class="line">    ptr +=<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);<span class="comment">//arr[2]的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//arr[2]的值30</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    ptr -=<span class="number">1</span>;<span class="comment">//等价于&lt;--&gt;ptr--</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);<span class="comment">//arr[1]的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//arr[1]的值20</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;通过指针访问所有的数组元素：\n&quot;</span>);</span><br><span class="line">    ptr = arr;<span class="comment">//等价于&lt;--&gt; ptr = &amp;arr[0];</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span> ;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);</span><br><span class="line">        ptr++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br><span class="line">    <span class="comment">//上面循环的最后一次打印，打印的是指针指向的arr[3]，</span></span><br><span class="line">    <span class="comment">//再++，就指向了arr[4]，越界</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//越界访问，程序可能崩溃。打印出了不确定值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,&amp;arr[<span class="number">3</span>]);<span class="comment">//数组中最后一个元素的地址</span></span><br><span class="line"></span><br><span class="line">    ptr = &amp;arr[<span class="number">3</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);</span><br><span class="line">    *ptr += <span class="number">2</span>;<span class="comment">//&lt;--&gt;arr[3] += 2;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;arr[3]:%d\n&quot;</span>,arr[<span class="number">3</span>]);</span><br><span class="line"></span><br><span class="line">    ptr = arr;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br><span class="line">    *(ptr += <span class="number">2</span>);<span class="comment">//ptr += 2;*ptr;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,ptr);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*ptr);<span class="comment">//30</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sumOfArr</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> n)</span><span class="comment">//形式参数传递数组名</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//&lt;--&gt;int sumOfArr(int a[],int n)</span></span><br><span class="line"><span class="comment">//a[]&lt;--&gt;int *a</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(a):%lu\n&quot;</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">    <span class="type">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//方法一</span></span><br><span class="line">    <span class="comment">//for(int i = 0;i &lt; n;i++)</span></span><br><span class="line">    <span class="comment">//&#123;</span></span><br><span class="line">    <span class="comment">//s += a[i];//a指针名可以当作数组名使用</span></span><br><span class="line">    <span class="comment">//  s += *(a+i);//指针加一</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//return s;</span></span><br><span class="line">    <span class="comment">//方法二</span></span><br><span class="line">    s = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        s += *a;</span><br><span class="line">        a++;<span class="comment">//指针加一</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> b[] = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sumOfArr(b,<span class="keyword">sizeof</span>(b)/<span class="keyword">sizeof</span>(<span class="type">int</span>)));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="指针运算"><a href="#指针运算" class="headerlink" title="指针运算"></a>指针运算</h2><h3 id="指针相减运算"><a href="#指针相减运算" class="headerlink" title="指针相减运算"></a>指针相减运算</h3><p>计算两个指针之间相差的偏移量（步数）或元素个数偏移量表示两个指针所指向内存地址之间的距离（即相差多少元素）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] =&#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>&#125;;   </span><br><span class="line"><span class="type">int</span> *ptr1=&amp;arr[<span class="number">0</span>]; </span><br><span class="line"><span class="type">int</span> *ptr2=&amp;arr[<span class="number">2</span>]; </span><br><span class="line"><span class="type">int</span> offset = ptr2 - ptr1;    </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,offset);</span><br></pre></td></tr></table></figure><p>注意：指针相减运算只有在指针指向同一数组时才有意义</p><h3 id="指针关系运算"><a href="#指针关系运算" class="headerlink" title="指针关系运算"></a>指针关系运算</h3><p>基于指针所指向的内存地址进行比较</p><p>可以使用关系运算符（&lt;、&gt;、&lt;&#x3D;、&gt;&#x3D;、&#x3D;&#x3D;、!&#x3D;）来比较指针，反映指针所指向地址的前后关系</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[] =&#123;<span class="number">40</span>,<span class="number">30</span>,<span class="number">20</span>,<span class="number">10</span>&#125;;</span><br><span class="line"><span class="type">int</span> *ptr1=&amp;arr[<span class="number">0</span>];</span><br><span class="line"><span class="type">int</span> *ptr2=&amp;arr[<span class="number">2</span>]; </span><br><span class="line"><span class="keyword">if</span> (ptr1 &lt; ptr2) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ptr1 在 ptr2之前\n&quot;</span>);        </span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (ptr1 &gt; ptr2) </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ptr1 在 ptr2之后\n&quot;</span>); </span><br><span class="line">&#125; <span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;处于相同位置\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意：指针关系运算只有在指针指向同一数组元素时才有意义</p><h2 id="指针与数组"><a href="#指针与数组" class="headerlink" title="指针与数组"></a>指针与数组</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;arr:%p\n&quot;</span>,arr);<span class="comment">//地址常量。数组首元素的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;arr[0]:%p\n&quot;</span>,&amp;arr[<span class="number">0</span>]);<span class="comment">////arr  &lt;--&gt;  &amp;arr[0],都是数组的首地址</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *p = arr;<span class="comment">//&lt;======&gt;int *p = &amp;arr[0];</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p:%p\n&quot;</span>,p);<span class="comment">//p  &lt;--&gt;  &amp;arr[0]</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*p:%d\n&quot;</span>,*p);<span class="comment">//*p  &lt;--&gt;  arr[0]</span></span><br><span class="line"></span><br><span class="line">    *p = <span class="number">1000</span>;<span class="comment">//arr[0] = 1000;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nprintf(\&quot;%%d \&quot;,*p);-----------------\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,*p);</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nprintf(\&quot;%%p \&quot;,p+i);-----------------\n&quot;</span>);</span><br><span class="line">    p = arr;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%p &quot;</span>,p+i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nprintf(\&quot;%%d \&quot;,*(p+i));-----------------\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,*(p+i));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nprintf(\&quot;%%d \&quot;,p[i]);-----------------\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">5</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,p[i]);<span class="comment">//*(p+i): 数组的首地址指针变量，当做数组名使用 </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n-----------------\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> a = <span class="number">20000</span>;</span><br><span class="line">    <span class="type">int</span> *pa = &amp;a;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*pa:%d\n&quot;</span>,*pa);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*pa:%d\n&quot;</span>,*(pa+<span class="number">0</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pa[0]:%d\n&quot;</span>,pa[<span class="number">0</span>]);<span class="comment">//*(pa+0)</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pa[1]:%d\n&quot;</span>,pa[<span class="number">1</span>]);<span class="comment">//没有意义，使用了野指针*(pa+1)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="comment">// 定义打印数组的函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printArray</span><span class="params">(<span class="type">int</span> *ptr, <span class="type">int</span> length)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(ptr + i));<span class="comment">//&lt;--&gt;ptr[i]&lt;--&gt;*(ptr++) 而不能写*(++ptr)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;<span class="comment">//在被调用时，x,y的值会被复制一份给函数，函数内部对a, b的操作不会影响到调用者（主调函数）的x和y</span></span><br><span class="line">    <span class="type">int</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;swap:a = %d, b = %d\n&quot;</span>, a, b);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">swap2</span><span class="params">(<span class="type">int</span> *a, <span class="type">int</span> *b)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> temp = *a;</span><br><span class="line">    *a = *b;</span><br><span class="line">    *b = temp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;swap2:*a = %d, *b = %d\n&quot;</span>, *a, *b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> arr[] = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>&#125;;</span><br><span class="line">    <span class="type">int</span> length = <span class="keyword">sizeof</span>(arr) / <span class="keyword">sizeof</span>(arr[<span class="number">0</span>]);</span><br><span class="line">    printArray(arr, length);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;-----------------------\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> x = <span class="number">10</span>, y = <span class="number">20</span>;</span><br><span class="line">    swap(x, y);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;main:x = %d, y = %d\n&quot;</span>, x, y);<span class="comment">//不会改变x, y的值</span></span><br><span class="line">    </span><br><span class="line">    swap2(&amp;x,&amp;y);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;main:x = %d, y = %d\n&quot;</span>, x, y);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//char ch[10] = &quot;abc\10156789&quot;;//\101会把八进制数101转成10进制数对应的ascii码字符</span></span><br><span class="line">    <span class="type">char</span> ch[<span class="number">10</span>] = <span class="string">&quot;abc\00056789&quot;</span>;</span><br><span class="line">    <span class="comment">//scanf(&quot;%s&quot;, ch);</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(ch):%lu\n&quot;</span>, <span class="keyword">sizeof</span>(ch));<span class="comment">//10</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;strlen(ch):%lu\n&quot;</span>, <span class="built_in">strlen</span>(ch));<span class="comment">//3</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, ch);<span class="comment">//abc</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, ch[<span class="number">5</span>]);<span class="comment">//6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> cc[<span class="number">10</span>] = <span class="string">&quot;abc\056789&quot;</span>;<span class="comment">//\056是八进制数56做为ascii码对应的字符</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, cc);<span class="comment">//abc.789</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;strlen(ch):%lu\n&quot;</span>, <span class="built_in">strlen</span>(cc));<span class="comment">//7</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//字符串比较大小</span></span><br><span class="line">    <span class="type">char</span> str1[] = <span class="string">&quot;acZ&quot;</span>;</span><br><span class="line">    <span class="type">char</span> str2[] = <span class="string">&quot;abZ&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str1, str2) == <span class="number">0</span>)<span class="comment">//strcmp相等返回0</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;str1 == str2\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str1, str2) &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;str1 &gt; str2\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;str1 &lt; str2\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">char</span> name[][<span class="number">10</span>] = &#123;<span class="string">&quot;abZ&quot;</span>, <span class="string">&quot;abc123&quot;</span>, <span class="string">&quot;123abc&quot;</span>, <span class="string">&quot;abc&quot;</span>&#125;;</span><br><span class="line">    <span class="type">char</span> n = <span class="number">4</span>;</span><br><span class="line">    <span class="comment">//冒泡排序.从小到大</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n - i - <span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(name[j], name[j + <span class="number">1</span>]) &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> temp[<span class="number">256</span>];</span><br><span class="line">                <span class="built_in">strcpy</span>(temp,name[j]);<span class="comment">//strcpy(dest,src)字符串</span></span><br><span class="line">                <span class="comment">//复制函数完成字符串赋值，字符串不能使用等号直接赋值</span></span><br><span class="line">                <span class="built_in">strcpy</span>(name[j],name[j+<span class="number">1</span>]);</span><br><span class="line">                <span class="built_in">strcpy</span>(name[j+<span class="number">1</span>],temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, name[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="指针数组"><a href="#指针数组" class="headerlink" title="指针数组"></a>指针数组</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">3</span>] = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    <span class="type">int</span> *p[<span class="number">3</span>] = &#123;&amp;a[<span class="number">0</span>], &amp;a[<span class="number">1</span>], &amp;a[<span class="number">2</span>]&#125;;<span class="comment">// 指针数组p，p中的每个元素都是地址</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) </span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a+i);<span class="comment">//数组a中每个元素地址 </span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;a[i]);<span class="comment">//数组a中每个元素地址</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p[i]);<span class="comment">//数组a中每个元素地址</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *p[i]);<span class="comment">//a[0]、a[1]、a[2]。 10 20 30</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, a[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(a+i));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, *(*(p+i)));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="数组指针"><a href="#数组指针" class="headerlink" title="数组指针"></a>数组指针</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printArr</span><span class="params">(<span class="type">int</span> (*p)[<span class="number">5</span>], <span class="type">int</span> n)</span><span class="comment">//p是行指针(且是有5个元素的行)，n是行数,p也可以写成int p[][5]</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;=====================\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)<span class="comment">///i++也可以</span></span><br><span class="line">    &#123;   </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span> ; k &lt; <span class="number">5</span> ;k++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, p[i][k]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">3</span>] = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>&#125;;</span><br><span class="line">    <span class="comment">// 数组指针</span></span><br><span class="line">    <span class="type">int</span> (*p)[<span class="number">3</span>]; <span class="comment">// 定义了一个数组指针（行指针），此指针指向一个有3个元素的数组，保存的这3个元素的数组地址</span></span><br><span class="line">    p = &amp;a;<span class="comment">//保存了有3个元素的数组的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p    : %p\n&quot;</span>, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;a   : %p\n&quot;</span>, &amp;a);    <span class="comment">// 数组地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a    : %p\n&quot;</span>, a);     <span class="comment">// 数组名，数组首元素地址  int *p = a;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&amp;a[0]: %p\n&quot;</span>, &amp;a[<span class="number">0</span>]); <span class="comment">// 数组首地址:首元素地址 int *pa = &amp;a[0];</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *pa = &amp;a[<span class="number">0</span>];<span class="comment">//pa++时，pa指向下一个元素</span></span><br><span class="line">    <span class="type">int</span> *pc = a;<span class="comment">//pc++时，pc指向下一个元素</span></span><br><span class="line">    pa++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pa    : %p\n&quot;</span>, pa);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(p)=%d\n&quot;</span>,<span class="keyword">sizeof</span>(p));</span><br><span class="line">    p++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;p    : %p\n&quot;</span>, p);<span class="comment">//p++时，p指向下一行,对于一维数组a来说是越界了</span></span><br><span class="line">    </span><br><span class="line">    p = &amp;a;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, p[<span class="number">0</span>][i]);<span class="comment">//数组指针可以当做二维数组名来使用</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> b[<span class="number">3</span>][<span class="number">5</span>] = &#123;&#123;<span class="number">1</span>, <span class="number">2</span>,<span class="number">10</span>,<span class="number">23</span>,<span class="number">4</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>&#125;, &#123;<span class="number">5</span>, <span class="number">6</span>,<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>&#125;&#125;;</span><br><span class="line">    <span class="comment">//int (*pb)[5] = &amp;b[0]; 定义了一个指针，此指针指向一个有5个元素的数组，保存的这5个元素的数组地址</span></span><br><span class="line">    <span class="type">int</span> (*pb)[<span class="number">5</span>] = b; <span class="comment">//与上面一行代码等价,二维数组名表示第0行的地址、行地址、行指针、&amp;b[0]表示第0行的地址。指向数组的首行地址</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span> ; k &lt; <span class="number">5</span> ;k++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, b[i][k]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;--------------------\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span> ; k &lt; <span class="number">5</span> ;k++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, pb[i][k]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;--------------------\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;0-pb:%p\n&quot;</span>,pb);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, pb[<span class="number">0</span>][<span class="number">0</span>], pb[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">    pb++;<span class="comment">//pb指向下一行</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1-pb:%p\n&quot;</span>,pb);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, pb[<span class="number">0</span>][<span class="number">0</span>], pb[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">    pb++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2-pb:%p\n&quot;</span>,pb);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, pb[<span class="number">0</span>][<span class="number">0</span>], pb[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;+++++++===========\n&quot;</span>);</span><br><span class="line">    pb = &amp;b[<span class="number">1</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, pb[<span class="number">0</span>][<span class="number">0</span>], pb[<span class="number">0</span>][<span class="number">1</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, pb[<span class="number">1</span>][<span class="number">0</span>], pb[<span class="number">1</span>][<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>, *(*(pb + <span class="number">1</span>) + <span class="number">0</span>), *(*(pb + <span class="number">1</span>) + <span class="number">1</span>)); <span class="comment">// 等价于printf(&quot;%d,%d\n&quot;, pb[1][0],pb[1][1]);</span></span><br><span class="line">    </span><br><span class="line">    printArr(b, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="指针与函数"><a href="#指针与函数" class="headerlink" title="指针与函数"></a>指针与函数</h2><h3 id="指针函数"><a href="#指针函数" class="headerlink" title="指针函数"></a>指针函数</h3><p>函数的返回值类型是指针类型，即函数返回一个地址，这样的函数是指针函数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//int * fun() //指针函数 </span></span><br><span class="line"><span class="comment">//&#123; </span></span><br><span class="line"><span class="comment">//     int a = 10;//局部变量a：函数执行完毕，变量自动销毁，不可访问 。分配的是栈空间</span></span><br><span class="line"><span class="comment">//     return &amp;a;//这样返回的地址，不能使用。因为函数执行完毕，变量销毁，空间释放，不能访问</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="type">int</span> *<span class="title function_">fun2</span><span class="params">()</span></span><br><span class="line">&#123;    </span><br><span class="line">    <span class="type">int</span> *p = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="number">40</span>*<span class="keyword">sizeof</span>(<span class="type">int</span>));<span class="comment">//malloc动态申请内存，分配的是堆空间,</span></span><br><span class="line">    <span class="comment">//申请的内存不会随着函数的调用结束而自动释放，必须手动释放，否则会造成内存泄露</span></span><br><span class="line">    <span class="comment">//malloc函数申请的内存，必须free释放，否则会造成内存泄露</span></span><br><span class="line">    <span class="keyword">return</span> p;<span class="comment">//返回的是地址，所以可以访问局部变量</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// int *p = fun();</span></span><br><span class="line">    <span class="comment">// printf(&quot;%d\n&quot;, *p);//不能直接访问局部变量，只能通过指针间接访问，但是如果局部变量已经销毁，指针访问就会出错</span></span><br><span class="line">    <span class="comment">// *p = 100;//不安全，指针访问的局部变量，如果局部变量已经销毁，指针访问就会出错</span></span><br><span class="line">    <span class="comment">// printf(&quot;%d\n&quot;, *p);//野指针，访问了已经释放的指针，是不安全的。</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *q = fun2();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">40</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        q[i] = i*<span class="number">10</span>;<span class="comment">//*(q+i) = i*10;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; <span class="number">40</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, q[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//释放内存</span></span><br><span class="line">    <span class="built_in">free</span>(q);</span><br><span class="line">    q = <span class="literal">NULL</span>;<span class="comment">//释放后，指针置为空</span></span><br><span class="line">    <span class="comment">//printf(&quot;\n%d\n&quot;, q[1]);//error,运行时错误，段错误，访问了空指针，程序崩溃</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="函数指针"><a href="#函数指针" class="headerlink" title="函数指针"></a>函数指针</h3><p>指针指向一个函数，函数的地址保存到一个指针中，此指针就是函数指针。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">pr</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;**********\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> a-b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//add_sub是一个通用函数，可以接收任意两个参数的函数指针作为参数，并返回一个结果。</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">add_sub</span><span class="params">(<span class="type">int</span> (*f)(<span class="type">int</span>, <span class="type">int</span>), <span class="type">int</span> a, <span class="type">int</span> b)</span><span class="comment">//f是函数指针，指向一个函数，回调函数</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> f(a,b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,pr);<span class="comment">//pr函数名表示函数的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>,&amp;pr);<span class="comment">//pr函数名表示函数的地址</span></span><br><span class="line"></span><br><span class="line">    <span class="type">void</span> (*p)();<span class="comment">//定义一个函数指针，指向一个函数,指向一个没有形参且没有返回值的函数</span></span><br><span class="line">    p = pr;<span class="comment">//将符合要求的函数的地址保存到函数指针中</span></span><br><span class="line">    pr();<span class="comment">//直接调用函数</span></span><br><span class="line">    (*p)();<span class="comment">//通过指针调用函数</span></span><br><span class="line">    p();<span class="comment">//通过指针调用函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    p = &amp;pr;<span class="comment">//将符合要求的函数的地址保存到函数指针中</span></span><br><span class="line">    (*p)();<span class="comment">//通过指针调用函数</span></span><br><span class="line">    p();<span class="comment">//通过指针调用函数</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> (*q)(<span class="type">int</span>,<span class="type">int</span>) = add;<span class="comment">//将符合要求的函数的地址保存到函数指针中</span></span><br><span class="line">    <span class="type">int</span> c = (*q)(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//通过指针调用函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,c);</span><br><span class="line">    c = q(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//通过指针调用函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,c);</span><br><span class="line"></span><br><span class="line">    q = sub;</span><br><span class="line">    c = q(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//通过指针调用函数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,c);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,add_sub(add,<span class="number">10</span>,<span class="number">20</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,add_sub(sub,<span class="number">10</span>,<span class="number">20</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="main函数的参数"><a href="#main函数的参数" class="headerlink" title="main函数的参数"></a>main函数的参数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">char</span> *argv[])</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//argument count</span></span><br><span class="line">    <span class="comment">//argc是执行当前可执行文件时,命令行中字符串的个数(包含命令本身字符串)。</span></span><br><span class="line">    <span class="comment">//argv是命令行中所有的字符串,argv是一个字符串数组，argc值就是数组元素的个数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;argc:%d\n&quot;</span>,argc);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt; argc;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">puts</span>(argv[i]);<span class="comment">//等价于printf(&quot;%s\n&quot;,argv[i]);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>修饰的变量不能再被修改</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    a = <span class="number">20</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> b = <span class="number">100</span>;<span class="comment">//常变量</span></span><br><span class="line">    <span class="comment">//b = 20;//error    </span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> *p1 = &amp;a;</span><br><span class="line">    *p1 = <span class="number">200</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> *p2 = &amp;a;<span class="comment">//p2 指向的地址里的内容不能修改,不能对*p2赋值</span></span><br><span class="line">    <span class="comment">//*p2 = 30;//error</span></span><br><span class="line">    p2 = &amp;b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*p2 = %d\n&quot;</span>, *p2);</span><br><span class="line">    <span class="comment">//*p2 = 300;//error</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="type">const</span> *p3 = &amp;a;<span class="comment">//指向的地址里的内容不能修改,不能对*p3赋值</span></span><br><span class="line">    <span class="comment">// *p3 = 40;//error</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>  *  <span class="type">const</span> p4 = &amp;a;<span class="comment">//p4中保存的地址不能修改,不能对p4赋值</span></span><br><span class="line">    *p4 = <span class="number">50</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    <span class="comment">//p4 = &amp;b;//error</span></span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span>  *  <span class="type">const</span> p5 = &amp;a;<span class="comment">//p5中保存的地址及地址里的内容都不能修改,不能对p4及*p4赋值</span></span><br><span class="line">    <span class="comment">//p5 = &amp;b;//error</span></span><br><span class="line">    <span class="comment">//*p5 = 60;//error</span></span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二级指针"><a href="#二级指针" class="headerlink" title="二级指针"></a>二级指针</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> * pa = &amp;a;<span class="comment">//pa指向a,保存了a的地址，pa是一级指针</span></span><br><span class="line">    <span class="type">int</span> ** ppa = &amp;pa;<span class="comment">//ppa指向pa,保存了pa的地址，ppa是二级指针</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a的地址是%p\n&quot;</span>,&amp;a);<span class="comment">//a的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pa的值是%p\n&quot;</span>,pa);<span class="comment">//pa的值,也是a的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*ppa的值是%p\n&quot;</span>,*ppa);<span class="comment">//ppa指向的pa的值,也是a的地址</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;pa的地址是%p\n&quot;</span>,&amp;pa);<span class="comment">//pa的地址</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;ppa的值是%p\n&quot;</span>,ppa);<span class="comment">//ppa的值,也是pa的地址</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a);<span class="comment">//10</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*pa);<span class="comment">//10</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,**ppa);<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line">    *pa = <span class="number">20</span>;<span class="comment">//修改a的值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a);<span class="comment">//20</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*pa);<span class="comment">//20</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,**ppa);<span class="comment">//20</span></span><br><span class="line"></span><br><span class="line">    **ppa = <span class="number">30</span>;<span class="comment">//修改a的值（*ppa的结果是pa的值，也是a的地址  &amp;a）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,a);<span class="comment">//30</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*pa);<span class="comment">//30</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,**ppa);<span class="comment">//10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//打印pa和ppa的大小</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>,<span class="keyword">sizeof</span>(pa));<span class="comment">//8</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>,<span class="keyword">sizeof</span>(ppa));<span class="comment">//8</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>数组</title>
      <link href="/2023/01/26/%E6%95%B0%E7%BB%84/"/>
      <url>/2023/01/26/%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<h2 id="数组介绍"><a href="#数组介绍" class="headerlink" title="数组介绍"></a>数组介绍</h2><p>数组指的是一种容器，可以用来存储<strong>同种数据类型</strong>的多个值</p><h2 id="数组的初始化"><a href="#数组的初始化" class="headerlink" title="数组的初始化"></a>数组的初始化</h2><p>C语言中的数组必须先定义,然后才能使用数组中保存的数据所谓初始化：就是在内存中，为数组容器开辟空间，并将数据存入容器中的过程</p><h3 id="不初始化"><a href="#不初始化" class="headerlink" title="不初始化"></a>不初始化</h3><p>格式：数据类型 数组名[数组长度]; （数组元素值是不确定的，是内存中原有的数据）</p><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">3</span>];</span><br></pre></td></tr></table></figure><h3 id="部分初始化"><a href="#部分初始化" class="headerlink" title="部分初始化"></a>部分初始化</h3><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;; <span class="comment">//不完全初始化，剩余的元素默认初始化为0</span></span><br></pre></td></tr></table></figure><h3 id="全部初始化"><a href="#全部初始化" class="headerlink" title="全部初始化"></a>全部初始化</h3><p>格式：数据类型 数组名[数组长度可以省略] &#x3D; {元素1,元素2,元素3,….};</p><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr1[] = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>&#125;;</span><br><span class="line"><span class="type">int</span> arr2[<span class="number">3</span>] = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>&#125;;</span><br></pre></td></tr></table></figure><p>规定：数组一旦确定下来，长度不会再发生变化</p><h2 id="数组元素的访问"><a href="#数组元素的访问" class="headerlink" title="数组元素的访问"></a>数组元素的访问</h2><p>格式：数组名[索引或者下标];</p><p>索引：索引是数组容器中每个元素的编号，编号从0开始，逐个+1增长</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">5</span>] = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="built_in">printf</span>(“%d\n”,arr[<span class="number">2</span>]);<span class="comment">//输出arr数组2号下标上的数据，也就是5</span></span><br><span class="line"><span class="built_in">printf</span>(“%d\n”,arr[<span class="number">5</span>]);<span class="comment">//索引5没有这个元素，索引越界结果不可预测</span></span><br><span class="line"><span class="comment">//遍历数组中所有的元素</span></span><br><span class="line"><span class="type">int</span> n = <span class="keyword">sizeof</span>(arr)/<span class="keyword">sizeof</span>(arr[<span class="number">0</span>])</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>sizeof函数</p><p>数组长度：sizeof(arr)&#x2F;sizeof(arr[0]）<br>最大索引&#x3D; 数组长度-1</p><p>获得整个数组在内存中所占的字节</p><ul><li>数组中元素类型一致，所占内存一样</li><li>总字节数除以每个元素的字节数</li></ul><h2 id="数组元素的修改"><a href="#数组元素的修改" class="headerlink" title="数组元素的修改"></a>数组元素的修改</h2><p>在C语言中，数组的大小是固定的，一旦定义后就无法增加或删除元素。因此，没有内置的增加元素和删除元素的操作。</p><p>数组名[索引]&#x3D; 新元素</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*数组元素逆序*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[] = &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>,<span class="number">100</span>,<span class="number">23</span>,<span class="number">54</span>,<span class="number">65</span>&#125;;</span><br><span class="line">    <span class="type">int</span> n = <span class="keyword">sizeof</span>(a) / <span class="keyword">sizeof</span>(a[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="comment">// 数组元素逆序</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n/<span class="number">2</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = a[i];</span><br><span class="line">        a[i] = a[n - <span class="number">1</span> - i];<span class="comment">//2 6-1-2</span></span><br><span class="line">        a[n - i - <span class="number">1</span>] = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//方法2</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>,k = n<span class="number">-1</span>; i &lt; n/<span class="number">2</span>;i++,k--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = a[i];</span><br><span class="line">        a[i] = a[k];</span><br><span class="line">        a[k] = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//方法3</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>,k = n<span class="number">-1</span>; i &lt; k; i++,k--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t = a[i];</span><br><span class="line">        a[i] = a[k];</span><br><span class="line">        a[k] = t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数组元素的排序"><a href="#数组元素的排序" class="headerlink" title="数组元素的排序"></a>数组元素的排序</h2><p>规律：<br>假设：有n个元素<br>1、需要进行（n-1）轮转换，每轮获取最大值；<br>2、每轮元素需要与后面的数进行比较，一共需要比较n-1次，但是每轮都获取该轮的最大值，再比较无意义，所以，每轮比较（n-轮数）次；</p><h3 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 冒泡原版:按升序排序</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>] = &#123;<span class="number">21</span>, <span class="number">42</span>, <span class="number">31</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">37</span>, <span class="number">18</span>, <span class="number">39</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++)</span><br><span class="line">        &#123; <span class="comment">// 内层循环控制每一轮比较的次数</span></span><br><span class="line">            <span class="keyword">if</span> (a[j] &gt; a[j + <span class="number">1</span>])</span><br><span class="line">            &#123; <span class="comment">// 如果前一个数比后一个大，则交换</span></span><br><span class="line">                <span class="type">int</span> temp = a[j];</span><br><span class="line">                a[j] = a[j + <span class="number">1</span>];</span><br><span class="line">                a[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 冒泡优化:按升序排序</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>] = &#123;<span class="number">21</span>, <span class="number">42</span>, <span class="number">31</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">37</span>, <span class="number">18</span>, <span class="number">39</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> flag = <span class="number">0</span>;<span class="comment">//flag表示是否交换过，如果交换过则flag=1。优化比较总轮数/总趟数</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>-i; j++)</span><br><span class="line">        &#123;<span class="comment">// 内层循环控制每一轮比较的次数</span></span><br><span class="line">            <span class="keyword">if</span> (a[j] &gt; a[j + <span class="number">1</span>])</span><br><span class="line">            &#123;<span class="comment">// 如果前一个数比后一个大，则交换</span></span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                <span class="type">int</span> temp = a[j];</span><br><span class="line">                a[j] = a[j + <span class="number">1</span>];</span><br><span class="line">                a[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag == <span class="number">0</span>)</span><br><span class="line">            &#123;<span class="comment">//如果成立，说明已经有序，则跳出循环。这一轮没有交换过则说明已经有序，此时flag肯定还是0</span></span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//跳出外层循环</span></span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><h3 id="二维数组定义"><a href="#二维数组定义" class="headerlink" title="二维数组定义"></a>二维数组定义</h3><p>数据类型 数组名 [行数] [列数]；</p><p>例如：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr1[<span class="number">3</span>] [<span class="number">5</span>];</span><br></pre></td></tr></table></figure><h2 id="字符数组"><a href="#字符数组" class="headerlink" title="字符数组"></a>字符数组</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> d[] = <span class="string">&quot;xyz123&quot;</span>;</span><br><span class="line">    <span class="type">char</span> a[] = &#123;<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>&#125;;<span class="comment">//单引号表示字符</span></span><br><span class="line">    <span class="type">char</span> b[] = &#123;<span class="string">&quot;abcd&quot;</span>&#125;;<span class="comment">//双引号表示字符串,有\0结束标志</span></span><br><span class="line">    <span class="type">char</span> c[] = <span class="string">&quot;abcde&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(a):%lu\n&quot;</span>,<span class="keyword">sizeof</span>(a));<span class="comment">//3</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(b):%lu\n&quot;</span>,<span class="keyword">sizeof</span>(b));<span class="comment">//5</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(c):%lu\n&quot;</span>,<span class="keyword">sizeof</span>(c));<span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;strlen(b):%lu\n&quot;</span>,<span class="built_in">strlen</span>(b));<span class="comment">//4,strlen只计算字符串的长度，实际字符的个数，以\0为结尾标志，不计算\0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;strlen(c):%lu\n&quot;</span>,<span class="built_in">strlen</span>(c));<span class="comment">//5,strlen只计算字符串的长度，以\0为结尾标志</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;strlen(a):%lu\n&quot;</span>,<span class="built_in">strlen</span>(a));<span class="comment">//不一定是3。strlen只计算字符串的长度，以\0为结尾标志</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s,%s,%s\n&quot;</span>,a,b,c);<span class="comment">//%s用来打印字符串，遇到\0结束</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c[4]:|%c|\n&quot;</span>,c[<span class="number">4</span>]);<span class="comment">//e</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c[5]：|%c|\n&quot;</span>,c[<span class="number">5</span>]);<span class="comment">//\0是什么都没有</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;|%c|\n&quot;</span>,<span class="number">32</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lu\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="string">&quot;中国人&quot;</span>));<span class="comment">//汉字在不同的编码系统下占的字节数是不一样的，gbk是2个字节，utf-8是3个字节</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意事项：    </p><p>使用字符数组定义字符串时，数组的长度应该比字符串的长度多1，以便容纳空字符。<br>使用指针方式定义字符串时，指针变量指向了字符串常量的首地址，无需指定数组长度。</p><h2 id="二维字符数组"><a href="#二维字符数组" class="headerlink" title="二维字符数组"></a>二维字符数组</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> name[<span class="number">5</span>][<span class="number">20</span>] = &#123;<span class="string">&quot;Tom&quot;</span>,<span class="string">&quot;Jack&quot;</span>,<span class="string">&quot;xiaoming&quot;</span>,<span class="string">&quot;xiaohua&quot;</span>,<span class="string">&quot;Chinese&quot;</span>&#125;;<span class="comment">//二维字符数组保存多个字符串</span></span><br><span class="line">    <span class="comment">//二维字符数组，也是一维字符串数组，5个字符串name[0],name[1],....name[4]</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s,%s\n&quot;</span>,name[<span class="number">2</span>],name[<span class="number">4</span>]);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span> ; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,name[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,name[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;|%c|,|%c|\n&quot;</span>,name[<span class="number">0</span>][<span class="number">3</span>],name[<span class="number">0</span>][<span class="number">19</span>]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,name[<span class="number">1</span>][<span class="number">3</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printArr</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//打印数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, arr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    <span class="type">int</span> b[<span class="number">5</span>] = &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>&#125;;</span><br><span class="line">    printArr(a,<span class="number">10</span>);</span><br><span class="line">    printArr(b,<span class="number">5</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="type">char</span> c[<span class="number">10</span>]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,c);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>,c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>函数</title>
      <link href="/2023/01/21/%E5%87%BD%E6%95%B0/"/>
      <url>/2023/01/21/%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="函数的概念"><a href="#函数的概念" class="headerlink" title="函数的概念"></a>函数的概念</h2><p>是一段具有特定功能的代码块，可以在程序中被重复调用</p><h2 id="函数的格式"><a href="#函数的格式" class="headerlink" title="函数的格式"></a>函数的格式</h2><h3 id="函数的定义"><a href="#函数的定义" class="headerlink" title="函数的定义"></a>函数的定义</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">返回值类型  函数名(参数列表)<span class="comment">//形参</span></span><br><span class="line">&#123;</span><br><span class="line">函数体；</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>函数体：函数定义中的代码块，用于实现函数的具体功能。函数体包含在花括号{}中。<br>返回类型：当函数需要返回一个值时，需要在函数声明中指定返回类型，并在函数体中使用return语句返回相应的值。</p><p>函数名：<br>软硬要求：见名知义<br>硬性规定：<br>（1）只能由字母、下划线、或数字组成，且数字不能开头；<br>（2）不能是关键字；建议：使用匈牙利或者下划线方式命名</p><p>参数列表：<br>格式： 数据类型  参数名称说明<br>（1）数据类型：函数参数必须指定参数的数据类型；<br>（2）参数名称：符合标识符的特点；<br>（3）出现多个参数，用逗号分开。</p><h3 id="函数的调用"><a href="#函数的调用" class="headerlink" title="函数的调用"></a>函数的调用</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数名(参数)<span class="comment">//实参</span></span><br></pre></td></tr></table></figure><p>注意： 实参与参数列表中的 类型、个数、顺序必须保持一致，否则调用不成功</p><p>参数的传递方式:<br>（1）C语言中参数的传递方式有值传递和地址传递两种。<br>（2）值传递是将实参的值拷贝给形参，而地址传递是将实参的地址传递给形参</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> a ,<span class="type">int</span> b)</span>;<span class="comment">//函数声明</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> sum1 = getSum(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//函数调用</span></span><br><span class="line">    <span class="type">int</span> num1=<span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> num2=<span class="number">20</span>;</span><br><span class="line">    <span class="type">int</span> sum2 = getSum(num1,num2);   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span>  <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> a ,<span class="type">int</span> b)</span><span class="comment">//函数定义</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> sum = a + b;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//使用递归函数计算1~n的阶乘</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fac</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">0</span> || n == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> n * fac(n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用递归函数计算1~n的和</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="keyword">return</span> n + sum(n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,fac(<span class="number">0</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,fac(<span class="number">5</span>));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum(<span class="number">5</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,sum(<span class="number">100</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="变量的分类"><a href="#变量的分类" class="headerlink" title="变量的分类"></a>变量的分类</h2><table><thead><tr><th><strong>变量类型</strong></th><th><strong>位置</strong></th><th><strong>作用域</strong></th><th><strong>生命周期</strong></th></tr></thead><tbody><tr><td>局部变量</td><td>函数内（例如：main函数）</td><td>函数内使用</td><td>当函数执行完毕后，局部变量的内存空间会被释放，它们的值也会被销毁</td></tr><tr><td>全局变量</td><td>函数外</td><td>程序的任何地方被访问和使用</td><td>在整个程序的执行过程中都存在，其内存空间也不会被释放，直到程序结束</td></tr></tbody></table><p>作用域：限定一段程序代码可用性的范围。<br>生命周期：一段程序代码创建到销毁的整个过程</p><p>结论：<br>（1）全局变量可以在函数中访问；<br>（2）全局变量在修改之后，其修改值在整个程序都有效；<br>（3）全局变量名与局部变量名相同，就近原则。</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>分支、循环结构</title>
      <link href="/2023/01/16/%E5%88%86%E6%94%AF%E3%80%81%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/"/>
      <url>/2023/01/16/%E5%88%86%E6%94%AF%E3%80%81%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h2 id="顺序结构"><a href="#顺序结构" class="headerlink" title="顺序结构"></a>顺序结构</h2><p>C语言程序默认的执行流程，按照代码的先后顺序，从上到下依次执行</p><h2 id="分支结构"><a href="#分支结构" class="headerlink" title="分支结构"></a>分支结构</h2><h3 id="if结构的三种格式"><a href="#if结构的三种格式" class="headerlink" title="if结构的三种格式"></a>if结构的三种格式</h3><h4 id="if第一种格式：单分支"><a href="#if第一种格式：单分支" class="headerlink" title="if第一种格式：单分支"></a>if第一种格式：单分支</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(关系表达式) </span><br><span class="line">&#123;</span><br><span class="line">语句体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>执行流程：<br>（1）首先计算关系表达式的值<br>（2）如果关系表达式成立时就执行语句体<br>（3）如果关系表达式不成立就不执行语句体<br>（3）继续执行后面的其他语句</p><h4 id="if第二种格式：双分支"><a href="#if第二种格式：双分支" class="headerlink" title="if第二种格式：双分支"></a>if第二种格式：双分支</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (关系表达式) </span><br><span class="line">&#123;</span><br><span class="line">        语句体<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">语句体<span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>执行流程：<br>（1）首先计算关系表达式的值<br>（2）如果关系表达式的值为true就执行语句体1<br>（3）如果关系表达式的值为false就执行语句体2<br>（4）继续执行后面的其他语句</p><h4 id="if第三种格式：多分支"><a href="#if第三种格式：多分支" class="headerlink" title="if第三种格式：多分支"></a>if第三种格式：多分支</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (关系表达式<span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">        语句体<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(关系表达式<span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line">语句体<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line">.....</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">语句体n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>执行流程：<br>（1）首先计算关系表达式1的值如果为true就执行语句体1；<br>（2）如果为false就计算关系表达式2的值如果为true就执行语句体2；<br>（3）如果为false就计算关系表达式3的值<br>（4）……<br>（5）如果所以关系表达式结果都为false，就执行语句体n+1。</p><h3 id="switch分支结构"><a href="#switch分支结构" class="headerlink" title="switch分支结构"></a>switch分支结构</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式)</span><br><span class="line"> &#123; </span><br><span class="line">    <span class="keyword">case</span> 值<span class="number">1</span>:</span><br><span class="line">语句体<span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>; </span><br><span class="line">    <span class="keyword">case</span> 值<span class="number">2</span>:</span><br><span class="line">语句体<span class="number">2</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">    … </span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">语句体n+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>格式说明：<br>（1）表达式：必须是整型（将要匹配的值）。<br>（2）case：后面跟的是要和表达式进行比较的值 （被匹配的值）。<br>（3）break：表示中断，结束的意思，用来结束switch语句。<br>（4）default：表示所有情况都不匹配的时候，就执行该处的内容，和if语句的else相似。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">// case穿透性</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> month = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;输入月份1-12:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;month);</span><br><span class="line">    <span class="keyword">switch</span> (month)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>: </span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Spring\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">        <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Summer\n&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;您输入的月份有误，请重新输入\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="循环结构"><a href="#循环结构" class="headerlink" title="循环结构"></a>循环结构</h2><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(初始化语句;条件判断语句;条件控制语句)</span><br><span class="line">&#123;</span><br><span class="line">循环体语句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>执行流程：<br>（1）执行初始化语句<br>（2）执行条件判断语句，看其结果是true还是false<br>        如果是false，循环结束<br>        如果是true，执行循环体语句<br>（3）执行条件控制语句<br>（4）回到（2）继续执行条件判断语句</p><h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>初始化语句;<br>while(条件判断语句)<br>{<br>循环体语句;<br>}</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//自幂数:一个n位正整数，她的各位数字的n次方和等于它本身</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n1 = <span class="number">0</span>,n2 = <span class="number">0</span>,sum = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n1);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n1; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        n2 = i;</span><br><span class="line">        <span class="type">int</span> n = <span class="number">0</span>;<span class="comment">//位数</span></span><br><span class="line">        <span class="keyword">while</span> (n2!=<span class="number">0</span>)<span class="comment">//计算位数</span></span><br><span class="line">        &#123;</span><br><span class="line">            n2/=<span class="number">10</span>;</span><br><span class="line">            n++;</span><br><span class="line">        &#125;</span><br><span class="line">        n2 = i;</span><br><span class="line">        <span class="keyword">while</span> (n2!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            sum = sum + <span class="built_in">pow</span>(n2%<span class="number">10</span>,n);</span><br><span class="line">            n2/=<span class="number">10</span>;   </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == sum)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d是自幂数\n&quot;</span>,i);</span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="do…while循环"><a href="#do…while循环" class="headerlink" title="do…while循环"></a>do…while循环</h3><p>初始化语句;</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">循环体语句;</span><br><span class="line">&#125;<span class="keyword">while</span>(条件判断语句);</span><br></pre></td></tr></table></figure><h3 id="高级循环"><a href="#高级循环" class="headerlink" title="高级循环"></a>高级循环</h3><h4 id="无限循环（死循环）"><a href="#无限循环（死循环）" class="headerlink" title="无限循环（死循环）"></a>无限循环（死循环）</h4><p>循环一直停不下来。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">     <span class="built_in">printf</span>(<span class="string">&quot;while\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (;;) </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;for\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;do--while\n&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="跳转控制语句"><a href="#跳转控制语句" class="headerlink" title="跳转控制语句"></a>跳转控制语句</h4><h5 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h5><p>跳过本次循环，继续执行下次循环。</p><h5 id="break"><a href="#break" class="headerlink" title="break"></a>break</h5><p>结束break所在的循环。提前终止循环了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    srand(time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="comment">// 随机数种子,不使用srand(time(NULL))的话每次运行程序，</span></span><br><span class="line">    <span class="comment">//随机数种子都一样，产生随机数序列也都一样</span></span><br><span class="line">    <span class="type">int</span> rn = rand() % <span class="number">100</span> + <span class="number">1</span>; <span class="comment">// rand() % 100 + 1 产生1-100之间的随机数</span></span><br><span class="line">    <span class="comment">//计算公式：如果要产生[A-B]之间的随机整数，则：rand() % (B - A + 1) + A</span></span><br><span class="line">    <span class="comment">//例如产生60-100分之间的随机整数，则：rand() % (100 - 60 + 1) + 60   ----&gt; rand() % 41 + 60</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个你猜的数字(1~100)：&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (num &gt; rn)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;您猜大了\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (num &lt; rn)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;您猜小了\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;恭喜您，猜对了！rn = %d\n&quot;</span>, rn);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请再输入一个你猜的数字：&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>操作符/运算符详解</title>
      <link href="/2023/01/11/%E6%93%8D%E4%BD%9C%E7%AC%A6%E8%AF%A6%E8%A7%A3/"/>
      <url>/2023/01/11/%E6%93%8D%E4%BD%9C%E7%AC%A6%E8%AF%A6%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="算数操作符"><a href="#算数操作符" class="headerlink" title="算数操作符"></a>算数操作符</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="type">float</span> b = <span class="number">2.5</span>;</span><br><span class="line"><span class="comment">//printf(&quot;%d\n&quot;,a + b);//有警告，类型不一致，打印结果不正确。</span></span><br><span class="line">    </span><br><span class="line">    b = <span class="number">30</span>;<span class="comment">//隐式类型转换</span></span><br><span class="line">    <span class="comment">//从左到右,由大到小 short ----- int ----- long ----- float ----- double</span></span><br><span class="line"><span class="comment">//printf(&quot;%d\n&quot;,a + b);//有警告，类型不一致，打印结果不正确。</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,a + b);  </span><br><span class="line"><span class="comment">//除法运算符（/）:当两个操作数都是整数时，结果也是整数,如果有小数则丢弃。不进行四舍五入。</span></span><br><span class="line"><span class="comment">//有一个操作数是浮点数，结果也是浮点数，不是整除运算。</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">5</span> / <span class="number">4</span>;<span class="comment">//整除运算</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a:%d\n&quot;</span>,a);<span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">    <span class="type">float</span> b = <span class="number">5</span> / <span class="number">4</span>;<span class="comment">//整除运算</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b:%f\n&quot;</span>,b);<span class="comment">//1.000000</span></span><br><span class="line"> </span><br><span class="line">    <span class="type">float</span> c = <span class="number">5.0</span> / <span class="number">4</span>;<span class="comment">//浮点数除法</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c:%f\n&quot;</span>,c);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> d = <span class="number">6</span> / <span class="number">4.0</span>;<span class="comment">//浮点数除法（隐式自动转换）小数部分会被舍弃，也不进行四舍五入。</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;d:%d\n&quot;</span>,d);<span class="comment">//1</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> e = <span class="number">5</span> / <span class="number">4.0</span>;<span class="comment">//（隐式自动转换）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;e:%d\n&quot;</span>,e);<span class="comment">//1</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">float</span> g = (<span class="type">float</span>)<span class="number">5</span> / <span class="number">4</span>;<span class="comment">//（强制转换）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;g:%f\n&quot;</span>,g);<span class="comment">//1.250000</span></span><br><span class="line"></span><br><span class="line">    <span class="type">float</span> f = (<span class="type">float</span>)(<span class="number">5</span> / <span class="number">4</span>);<span class="comment">//（强制转换）（显式自动转换）</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;f:%f\n&quot;</span>,f);<span class="comment">//1.000000</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 取模运算符（%）（取余运算）：两个整数相除，取余数，取模运算符</span></span><br><span class="line">    <span class="comment">//小数不能做取模运算</span></span><br><span class="line">    <span class="comment">//功能：</span></span><br><span class="line">    <span class="comment">//1、获取一个整数中的每一位数字</span></span><br><span class="line">    <span class="comment">//例如：235 ：个位5 十位3 百位2</span></span><br><span class="line">    <span class="comment">//235/1%10得个位5</span></span><br><span class="line">    <span class="comment">//235/10%10得十位3</span></span><br><span class="line">    <span class="comment">//235/100%10得百位2</span></span><br><span class="line">    <span class="comment">//2、计算判断奇偶数  XX % 2</span></span><br><span class="line">    <span class="comment">//3、判断一个数能被另一个数整除</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> a = <span class="number">5</span> % <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a:%d\n&quot;</span>, a);<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> b = <span class="number">3</span> % <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b:%d\n&quot;</span>, b);<span class="comment">//3</span></span><br><span class="line">    <span class="comment">// float c = 5.0 % 3.0;//error:%只能是整数参与运算</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//单独使用，a++与++a效果一样；</span></span><br><span class="line">    <span class="comment">//参与赋值，a++：先赋值后自增，++a：先自增后赋值</span></span><br><span class="line">    <span class="type">int</span> num1 = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;(num1++) + 3:%d\n&quot;</span>, num1++ +<span class="number">3</span>);<span class="comment">//8</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num1:%d\n&quot;</span>, num1);<span class="comment">//6</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> num2 = <span class="number">5</span>;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">&quot;++num2 + 3:%d\n&quot;</span>, ++num2 + <span class="number">3</span>);<span class="comment">//9</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//当++在变量前时，先自增运算，再使用这个变量</span></span><br><span class="line">    <span class="comment">//当++在变量后时，先使用这个变量，再自增运算</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>, b = <span class="number">20</span>;</span><br><span class="line">    <span class="type">int</span> c = (a++)+(++b);<span class="comment">//c=(10)+(21)=31</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a:%d\nb:%d\nc:%d\n&quot;</span>, a, b, c);<span class="comment">//a:11, b:21, c:31</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> b = (++a) + (a++) + (++a) + a;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//不同的编译器可能有不同的解析方式，结果可能不同</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b=%d\n&quot;</span>, b);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="赋值操作符"><a href="#赋值操作符" class="headerlink" title="赋值操作符"></a>赋值操作符</h2><table><thead><tr><th><strong>操作符</strong></th><th><strong>解释</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>&#x3D;</td><td>赋值</td><td>int a&#x3D;10，b&#x3D;20；将10赋值给变量a</td></tr><tr><td>+&#x3D;</td><td>加后赋值</td><td>a+&#x3D;b，即a &#x3D; a+b，将a+b的值给a</td></tr><tr><td>-&#x3D;</td><td>减后赋值</td><td>a-&#x3D;b，即a&#x3D;a-b，将a-b的值给a</td></tr><tr><td>*&#x3D;</td><td>乘后赋值</td><td>a*&#x3D;b，即a&#x3D;a×b，将a×b的值给a</td></tr><tr><td>&#x2F;&#x3D;</td><td>除后赋值</td><td>a&#x2F;&#x3D;b，即a&#x3D;a&#x2F;b，将a&#x2F;b的商给a</td></tr><tr><td>%&#x3D;</td><td>取余数后赋值</td><td>a%&#x3D;b，即a&#x3D;a%b，将a÷b的余数给a</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">short</span> c = <span class="number">32767</span>;<span class="comment">//-32768~32767</span></span><br><span class="line">    c += <span class="number">1</span>;<span class="comment">//c = c+1//溢出:表示整数溢出，结果为-32768</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%hd\n&quot;</span>, c);<span class="comment">//-32768 </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, (<span class="type">int</span>)c);<span class="comment">//-32768</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;~~~~~%hu\n&quot;</span>, c);<span class="comment">//32768 unsigned short c:%hu表示无符号的short类型0~65535</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> x = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> y = x = <span class="number">100</span>;<span class="comment">//可以连写</span></span><br><span class="line">    <span class="comment">//int t = u = v = w = 200; error：u,v,w都是变量名,没有定义，不能连写</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="关系操作符"><a href="#关系操作符" class="headerlink" title="关系操作符"></a>关系操作符</h2><table><thead><tr><th><strong>操作符</strong></th><th><strong>解释</strong></th></tr></thead><tbody><tr><td>&gt;</td><td>大于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&#x3D;&#x3D;</td><td>等于</td></tr><tr><td>&gt;&#x3D;</td><td>大于等于</td></tr><tr><td>&lt;&#x3D;</td><td>小于等于</td></tr><tr><td>!&#x3D;</td><td>不等于</td></tr></tbody></table><p>所有关系操作符结果只能是两种：<br>“真”：1<br>“假”：0 </p><p>在c语言中，非0数据都为真，0为假 </p><h2 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h2><p>格式：关系表达式？表达式1：表达式2；</p><p>计算规则<br>首先计算关系表达式的值<br>如果值为真，表达式1的值就是运算结果<br>如果值为假，表达式2的值就是运算结果</p><h2 id="scanf-函数"><a href="#scanf-函数" class="headerlink" title="scanf()函数"></a>scanf()函数</h2><table><thead><tr><th>数据类型</th><th>输出&#x2F;输入格式字符串</th></tr></thead><tbody><tr><td>int</td><td>%d</td></tr><tr><td>short</td><td>%hd</td></tr><tr><td>long</td><td>%ld</td></tr><tr><td>long long</td><td>%lld</td></tr><tr><td>float</td><td>%f</td></tr><tr><td>double</td><td>%lf</td></tr><tr><td>char</td><td>%c</td></tr><tr><td>string</td><td>%s</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> </span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">0</span>,b = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span> c = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入两个整数：&quot;</span>);</span><br><span class="line">    <span class="comment">//键盘输入两个整数，求出较大的整数,如果输入小数或者非数字，要进行判断</span></span><br><span class="line">    <span class="type">int</span> n = <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%c&quot;</span>,&amp;a,&amp;b,&amp;c);<span class="comment">//scanf()函数返回值是从键盘实际读取到数据的变量的个数</span></span><br><span class="line">    <span class="comment">// printf(&quot;a = %d,b=%d,c=%d,c=%c\n&quot;, a,b,c,c);</span></span><br><span class="line">    <span class="comment">// printf(&quot;n = %d\n&quot;, n);</span></span><br><span class="line">    </span><br><span class="line">    n == <span class="number">3</span>?(c != <span class="string">&#x27;\n&#x27;</span> ? <span class="built_in">printf</span>(<span class="string">&quot;输入数据错误！\n&quot;</span>):<span class="built_in">printf</span>(<span class="string">&quot;两个数中的最大数是：%d\n&quot;</span>, a &gt; b ? a : b )):<span class="built_in">printf</span>(<span class="string">&quot;-----输入数据错误！！\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    n == <span class="number">3</span>?(c != <span class="string">&#x27;\n&#x27;</span> &amp;&amp; c != <span class="string">&#x27; &#x27;</span> &amp;&amp; c!=<span class="string">&#x27;\t&#x27;</span> ?<span class="built_in">printf</span>(<span class="string">&quot;~~~~输入数据错误！\n&quot;</span>):<span class="built_in">printf</span>(<span class="string">&quot;~~~两个数中的最大数是：%d\n&quot;</span>, a &gt; b ? a : b )):<span class="built_in">printf</span>(<span class="string">&quot;~~~~----输入数据错误！！\n&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    n==<span class="number">3</span>?(c == <span class="string">&#x27;\n&#x27;</span> || c == <span class="string">&#x27; &#x27;</span> || c==<span class="string">&#x27;\t&#x27;</span> ?<span class="built_in">printf</span>(<span class="string">&quot;~~~两个数中的最大数是：%d\n&quot;</span>, a &gt; b ? a : b ):<span class="built_in">printf</span>(<span class="string">&quot;~~~~输入数据错误！\n&quot;</span>)):<span class="built_in">printf</span>(<span class="string">&quot;~~~~----输入数据错误！！\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="逻辑操作符"><a href="#逻辑操作符" class="headerlink" title="逻辑操作符"></a>逻辑操作符</h2><table><thead><tr><th><strong>操作符</strong></th><th><strong>解释</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>&amp;&amp;</td><td>逻辑与</td><td>并且，都满足才成立</td></tr><tr><td>||</td><td>逻辑或</td><td>或者，只要有一个满足就成立</td></tr><tr><td>！</td><td>逻辑非</td><td>取反</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//对于逻辑与&amp;&amp;和逻辑或||来说，当第一个操作数能够确定整个表达式的值时，就不会计算第二个操作数。</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;<span class="type">int</span> b = <span class="number">2</span>;<span class="type">int</span> c = <span class="number">3</span>;</span><br><span class="line">    </span><br><span class="line">    c = (a &gt; <span class="number">-3</span>) || (b = <span class="number">40</span>);<span class="comment">//对于逻辑或来说，第一个操作数1&gt;-3成立，所以第二个操作数不会被计算,这就是短路运算规则</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);<span class="comment">//1</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);<span class="comment">//2, 说明第二个操作数没有被计算</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c);<span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">    c = a &gt; <span class="number">3</span> &amp;&amp; (b = <span class="number">400</span>);<span class="comment">//对于逻辑与来说，第一个操作数1&gt;3不成立，所以第二个操作数不会被计算,这就是短路运算规则</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);<span class="comment">//1</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);<span class="comment">//2, 说明第二个操作数没有被计算</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c);<span class="comment">//0</span></span><br><span class="line"></span><br><span class="line">    c = (b = <span class="number">400</span>) &amp;&amp; (a = <span class="number">3</span>);<span class="comment">//没有短路运算</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);<span class="comment">//3</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b = %d\n&quot;</span>, b);<span class="comment">//400, 说明第二个操作数被计算了</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;c = %d\n&quot;</span>, c);<span class="comment">//1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//(a &amp;&amp; b || c)</span></span><br><span class="line">    <span class="comment">//a为0,b不会执行,c要执行</span></span><br><span class="line">    <span class="type">int</span> i = <span class="number">2</span>,k = <span class="number">0</span>,m = <span class="number">0</span>;</span><br><span class="line">    (i = <span class="number">0</span>) &amp;&amp; (b = <span class="number">5</span>) || (c = <span class="number">10</span>);<span class="comment">//&amp;&amp;有短路运算,i为0,k不执行,c要执行 </span></span><br><span class="line">i = <span class="number">2</span>,k = <span class="number">0</span>,m = <span class="number">0</span>;</span><br><span class="line">(i = <span class="number">20</span>) || (b = <span class="number">5</span>) &amp;&amp; (c = <span class="number">10</span>);<span class="comment">//有短路运算,a为1,b不执行,c也不执行</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="移位操作符"><a href="#移位操作符" class="headerlink" title="移位操作符"></a>移位操作符</h2><p>用来对二进制数字进行向左或向右移位操作。</p><h3 id="左移运算符（"><a href="#左移运算符（" class="headerlink" title="左移运算符（&lt;&lt;）"></a>左移运算符（&lt;&lt;）</h3><p>将一个数的二进制表示向左移动指定的位数</p><p>int a &#x3D; 4;<br>int b &#x3D; a&lt;&lt;1;<br>第一步：将4转换为二进制  0100；<br>第二步：将二进制0100 左移动1位，变成1000；<br>第三步：将二进制1000 转换为十进制 8；</p><p>左移位规则：左边抛弃、右边补0结果为原数乘以2的移位位数次方</p><h3 id="右移运算符（-）"><a href="#右移运算符（-）" class="headerlink" title="右移运算符（&gt;&gt;）"></a>右移运算符（&gt;&gt;）</h3><p>右移位规则：右边抛弃，左边补0结果为原数除以2的移位位数次方</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//右移:有符号数右移，符号位不变，高位补符号位</span></span><br><span class="line">    <span class="type">int</span> a2 = <span class="number">-1073741824</span>;<span class="comment">//int范围：-21亿多~21亿多</span></span><br><span class="line">    <span class="type">int</span> b2 = a2 &gt;&gt; <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b2:%d\n&quot;</span>,b2);</span><br><span class="line"></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> a3 = <span class="number">3373741824</span>;<span class="comment">//无符号数右移，高位补0, unsigned int 范围0~42亿多</span></span><br><span class="line">    <span class="type">unsigned</span> b3 = a3 &gt;&gt; <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;b3:%u\n&quot;</span>,b3);   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="位操作符"><a href="#位操作符" class="headerlink" title="位操作符"></a>位操作符</h2><p>位操作符用于对二进制数进行操作</p><table><thead><tr><th><strong>操作符</strong></th><th><strong>解释说明</strong></th></tr></thead><tbody><tr><td>按位与：&amp;</td><td>对两个二进制对应位都为1时，结果为1，否则为0</td></tr><tr><td>按位或：｜</td><td>对两个二进制对应位只要有一个为1时，结果为1，否则为0</td></tr><tr><td>按位取反：～</td><td>对一个二进制数的每一位进行取反操作，将0变为1，将1变为0</td></tr><tr><td>按位异或：^</td><td>对两个二进制数的每一位进行异或操作，当两个对应位不相同时，结果为1，否则为0。</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//不创建临时变量（第三个变量），实现两个数的交换。</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">4</span>;</span><br><span class="line">    a = a^b;<span class="comment">//010 ^ 100 = 110</span></span><br><span class="line">      </span><br><span class="line">    b = a^b;<span class="comment">//110 ^ 100 = 010</span></span><br><span class="line">    a = a^b;<span class="comment">//110 ^ 010 = 100</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d b = %d\n&quot;</span>, a, b);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="其他操作符"><a href="#其他操作符" class="headerlink" title="其他操作符"></a>其他操作符</h2><h3 id="sizeof操作符"><a href="#sizeof操作符" class="headerlink" title="sizeof操作符"></a>sizeof操作符</h3><p>获取数据类型或变量所占用的字节数</p><p>语法：sizeof(数据类型&#x2F;变量)  </p><p>用途：<br>1、动态获取内存空间大小，可以避免硬编码造成的错误；<br>2、在定义数组时，可以用sizeof操作符计算数组长度</p><h3 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h3><p>将数据类型强制转换为需要的类型</p><p>语法：（数据类型）</p><p>注意：强制转换可能会导致数据精度的丢失或溢出，因此在进行强制转换时应谨慎使用，并确保转换结果符合预期。</p><p>用途：<br>1、当需要将一个数据类型的值赋给另一个不同数据类型的变量时，需要进行强制类型转换<br>2、在表达式中，有时需要将某些操作数强制转换为特定的数据类型，以便进行正确的计算</p><h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><p>逗号表达式</p><p>格式：表达式1，表达式2，表达式3…表达式n；</p><p>规则：依次计算每个表达式，并返回最后一个表达式的值作为整个表达式的值。</p><h2 id="操作符的优先级"><a href="#操作符的优先级" class="headerlink" title="操作符的优先级"></a>操作符的优先级</h2><table><thead><tr><th><strong>优先级</strong></th><th><strong>操作符</strong></th><th><strong>解释</strong></th></tr></thead><tbody><tr><td>1</td><td>()、 []、 -&gt;、 .</td><td>括号、数组、两种结构成员访问</td></tr><tr><td>2</td><td>!、~、++、–、+、-、*、&amp;、（类型）、sizeof</td><td>否定、按位取反、自增、自减、正号、负号、间接访问、地址访问、类型转换、内存大小</td></tr><tr><td>3</td><td>* 、&#x2F;、%</td><td>乘、除、取余</td></tr><tr><td>4</td><td>+、-</td><td>加、减</td></tr><tr><td>5</td><td>&lt;&lt;、&gt;&gt;</td><td>左移、右移</td></tr><tr><td>6</td><td>&lt;、&lt;&#x3D;、&gt;&#x3D;、&gt;</td><td>小于、小于等于、大于等于、大于</td></tr><tr><td>7</td><td>&#x3D;&#x3D;、!&#x3D;</td><td>等于、不等于</td></tr><tr><td>8</td><td>&amp;</td><td>按位与</td></tr><tr><td>9</td><td>^</td><td>按位异或</td></tr><tr><td>10</td><td>｜</td><td>按位或</td></tr><tr><td>11</td><td>&amp;&amp;</td><td>逻辑与</td></tr><tr><td>12</td><td>||</td><td>逻辑或</td></tr><tr><td>13</td><td>?:</td><td>条件操作符</td></tr><tr><td>14</td><td>&#x3D;、+&#x3D;、-&#x3D;、*&#x3D;、&#x2F;&#x3D;、%&#x3D;</td><td>赋值、加等、减等、乘等、除等、取模等</td></tr><tr><td>15</td><td>，</td><td>逗号运算</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言基础知识</title>
      <link href="/2023/01/06/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
      <url>/2023/01/06/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
      
        <content type="html"><![CDATA[<h2 id="编写第一个C语言程序"><a href="#编写第一个C语言程序" class="headerlink" title="编写第一个C语言程序"></a>编写第一个C语言程序</h2><p>C语言程序开发运行流程：编写代码、编译代码、运行代码</p><p><img src="/img%5CC2_1.png" alt="C_1"></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span> <span class="comment">//头文件</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> <span class="comment">//主函数</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;Hello World&quot;</span>); </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><table><thead><tr><th>类型</th><th>关键字</th><th>举例</th><th><strong>所占字节</strong></th><th><strong>范围</strong></th></tr></thead><tbody><tr><td>整型</td><td>整型 int</td><td>10、-10、1314、-1314、0</td><td>4</td><td>-2147483648～2147483647</td></tr><tr><td></td><td>短整型 short</td><td></td><td>2</td><td>-32768～32767</td></tr><tr><td></td><td>长整型 long</td><td></td><td>8</td><td>-9223372036854775808～9223372036854775807</td></tr><tr><td></td><td>长长整型 long long</td><td></td><td>8或16</td><td></td></tr><tr><td>浮点型</td><td>单精度型 float</td><td>3.14、13.14</td><td>4</td><td>-3.4e38~3.4e38（科学记数法）</td></tr><tr><td></td><td>双精度型 double</td><td></td><td>8</td><td>-1.7e308～1.7e308</td></tr><tr><td>字符类型</td><td>字符类型 char</td><td>‘A’、’a’、66</td><td>1</td><td>0～255（0-127，128-255）</td></tr></tbody></table><h3 id="ASCII字符"><a href="#ASCII字符" class="headerlink" title="ASCII字符"></a>ASCII字符</h3><p><img src="/img%5CC2_3.png" alt="C_3"></p><p><img src="/img%5CC2_4.png" alt="C_4"></p><h3 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h3><table><thead><tr><th>转义字符</th><th>解释</th></tr></thead><tbody><tr><td>\n</td><td>换行符，表示光标移到下一行的开头</td></tr><tr><td>\0</td><td>空字符，没有任何内容，字符串的结束标志</td></tr><tr><td>\r</td><td>回车符，表示光标移到当前行的开头</td></tr><tr><td>\t</td><td>制表符，相当于tab键，跳8个空</td></tr><tr><td>&#39;</td><td>用于表示字符常量’</td></tr><tr><td>&#39;‘</td><td>用于表示一个字符串内部的双引号</td></tr><tr><td>\</td><td>用于表示一个反斜杠，防止它被解释为转义字符</td></tr><tr><td>\b</td><td>退格符</td></tr><tr><td>\f</td><td>换页符</td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d，%u\n&quot;</span>,<span class="number">0xFFFFFFFF</span>,<span class="number">0xFFFFFFFF</span>);<span class="comment">//%d有符号数，%u无符号数,无符号数基本整型</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d，%d\n&quot;</span>,<span class="number">0x80000000</span>,<span class="number">0x7FFFFFFF</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(short)：%lu\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="type">short</span>));<span class="comment">//%lu无符号长整数,sizeof 计算给定的类型占用多少字节</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(int)：%lu\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(long)：%lu\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="type">long</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(long long)：%lu\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="type">long</span> <span class="type">long</span>));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(float)：%lu\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="type">float</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sizeof(double)：%lu\n&quot;</span>,<span class="keyword">sizeof</span>(<span class="type">double</span>));</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;8.4/2.0=%f\n&quot;</span>,<span class="number">8.4</span>/<span class="number">2.0</span>);<span class="comment">//%f输出单精度小数用的占位符，默认小数点后6位</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;8.4/2.0=%.1f\n&quot;</span>,<span class="number">8.4</span>/<span class="number">2.0</span>);<span class="comment">//.1表示小数点后保留1位</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;8.4/2.0=%g\n&quot;</span>,<span class="number">8.4</span>/<span class="number">2.0</span>);<span class="comment">//%g输出自动选择小数点后的位数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;8.4/2.0=%e\n&quot;</span>,<span class="number">8.4</span>/<span class="number">2.0</span>);<span class="comment">//%e输出科学计数法</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;12.12=%e\n&quot;</span>,<span class="number">12.12</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;8.4/2.0=%lf\n&quot;</span>,<span class="number">8.4</span>/<span class="number">2.0</span>);<span class="comment">//%lf输出双精度小数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//单精度和双精度的区别</span></span><br><span class="line">    <span class="type">float</span> f =  <span class="number">897.33245876546789</span>;<span class="comment">//单精度浮点数变量f</span></span><br><span class="line">    <span class="type">double</span> d = <span class="number">897.33245876546789</span>;<span class="comment">//双精度浮点数变量d</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.14f\n&quot;</span>,f); <span class="comment">//精度只有位</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.14lf\n&quot;</span>,d);<span class="comment">//精度16位左右</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="string">&#x27;A&#x27;</span>);<span class="comment">//%c输出char类型字符</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="number">66</span>); <span class="comment">//B</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="string">&#x27;A&#x27;</span>+<span class="number">32</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="string">&#x27;A&#x27;</span>);<span class="comment">//ascii编号 </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="string">&#x27;0&#x27;</span>);<span class="comment">//字符0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="string">&#x27;0&#x27;</span>);<span class="comment">//字符0的ascii编号48</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="number">0</span>);<span class="comment">//数值0</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;|%c|\n&quot;</span>,<span class="number">0</span>);<span class="comment">//ascii码是0的字符，空字符，什么也不显示</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;|%c|\n&quot;</span>,<span class="number">32</span>);<span class="comment">//ascii码是32的字符是空格</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="number">20</span>);<span class="comment">//十进制。%d表示十进制整数  占位符/格式字符串</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%X\n&quot;</span>,<span class="number">10</span>);<span class="comment">//十六进制A-F</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%x\n&quot;</span>,<span class="number">10</span>);<span class="comment">//十六进制a-f</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%o\n&quot;</span>,<span class="number">20</span>);<span class="comment">//八进制</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>,<span class="number">3.14</span>);<span class="comment">//单精度浮点数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%lf\n&quot;</span>,<span class="number">3.141592653</span>);<span class="comment">//双精度浮点数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="string">&#x27;A&#x27;</span>);<span class="comment">//字符</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="number">65</span>);<span class="comment">//ASCII码</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="number">98</span>);<span class="comment">//ASCII码</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="number">98</span>);<span class="comment">//十进制整数</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,<span class="number">0x41</span>);<span class="comment">//把十六进制数0x41转换成十进制整数打印出来</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="number">0x41</span>);<span class="comment">//把十六进制数0x41转换成字符打印出来</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>,<span class="number">0101</span>);<span class="comment">//把八进制数101转换成字符打印出来</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量的定义格式</p><p>数据类型   变量名  &#x3D;  数据值 ；</p><p>变量名的命名规则：由字母、数字、下划线组成，<br>但不能以数字开头，不能使用关键字。也就是标识符的命名规则。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">float</span> num1 = <span class="number">3.14</span>;    <span class="comment">// float类型变量num1</span></span><br><span class="line">    <span class="type">double</span> num2 = <span class="number">1.2345</span>; <span class="comment">// double类型变量num2</span></span><br><span class="line">                          <span class="comment">// 打印结果</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num1: %f\n&quot;</span>, num1);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num2: %lf\n&quot;</span>, num2);</span><br><span class="line"></span><br><span class="line">    num1 = <span class="number">20.14</span>;<span class="comment">//改变了变量的值  </span></span><br><span class="line">    num2 = <span class="number">100.2357</span>; <span class="comment">//改变了变量的值  </span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num1: %.2f\n&quot;</span>, num1);<span class="comment">// 保留小数点后两位</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num2: |%10.2lf|\n&quot;</span>, num2);<span class="comment">// 保留小数点后两位，宽度为10, 右对齐</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;num2: |%-10.2lf|\n&quot;</span>, num2);<span class="comment">// 保留小数点后两位，宽度为10,左对齐</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h2><table><thead><tr><th><strong>常量类型</strong></th><th><strong>说明</strong></th><th><strong>举例</strong></th></tr></thead><tbody><tr><td>字面常量</td><td>直接写在代码中的固定数值</td><td>10、3.14、’A’、“Hello”</td></tr><tr><td>符号常量</td><td>通过宏定义指令定义的，用来代表一个固定的数值或字符串</td><td>通过 #define PI 3.14159 定义了一个符号常量 PI，可以在程序中多次使用 PI 来表示圆周率；</td></tr></tbody></table><h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//单行注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">多行注释</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言环境安装</title>
      <link href="/2023/01/01/C%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/"/>
      <url>/2023/01/01/C%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h2 id="一、编辑器mingw64-免安装"><a href="#一、编辑器mingw64-免安装" class="headerlink" title="一、编辑器mingw64(免安装)"></a>一、编辑器mingw64(免安装)</h2><p>1、配置环境步骤：</p><ul><li><p>mingw64.rar安装包：夸克网盘下载链接：<a href="https://pan.quark.cn/s/9e384a1cd896">https://pan.quark.cn/s/9e384a1cd896</a></p></li><li><p>第一步：解压mingw64.rar压缩包文件，解压到当前文件夹</p></li><li><p>第二部：配置环境变量path</p></li></ul><p><img src="/img%5CC_1.png"></p><p>最后把所有的窗口点击（确定按钮）。配置完成。</p><p>第三步、测试配置是否成功。（在dos命令窗口任意目录输入）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc -v</span><br></pre></td></tr></table></figure><p>出现如下界面表示成功：</p><p><img src="/img%5CC_2.png"></p><p><img src="/img%5CC_3.png"></p><p>环境配置成功。</p><h2 id="二、VSCODE安装"><a href="#二、VSCODE安装" class="headerlink" title="二、VSCODE安装"></a>二、VSCODE安装</h2><p>1、下载工具：<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p><p>2、控制面版—程序和功能—找到vscode</p><p><img src="/img%5CC_4.png" alt="C_4"></p><p><img src="/img%5CC_5.png"></p><p>然后找到 c:\用户\具体的windows用户名(Ethan)</p><p> 选中.vscode删除(shift+del)</p><p>二、安装VSCODE过程略</p><p>三、使用vscode</p><p> &lt;1&gt;安装插件</p><p><img src="/img%5CC_6.png" alt="C_6"></p><p>&lt;2&gt;编写代码，打开文件夹，创建文件hello.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello c\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&lt;3&gt;打开终端，运行</p><p><img src="/img%5CC_7.png"></p><p>四、vscode乱码设置：</p><p>1、点设置–搜索encoding—把编码修改成gbk</p><p><img src="/img%5CC_8.png"></p><p>最后重启vscode.</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
